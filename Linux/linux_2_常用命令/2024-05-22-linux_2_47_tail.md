---
category: Linux
date: 2024-05-22 09:00:00 +0800
layout: post
title: linux_2_47_tail
---
## 简介

+ tail命令

## linux tail命令 详解

`tail` 命令用于查看文件的末尾内容，默认显示文件的最后 10 行。它常用于实时监控日志文件，查看最新的更新。以下是关于 `tail` 命令的详细解释：

### 语法：

```bash
tail [选项] 文件名
```

### 常用选项：

- `-n NUM` 或 `--lines=NUM`：指定显示的行数。
- `-f` 或 `--follow`：实时监控文件，显示新追加的内容。
- `-c NUM` 或 `--bytes=NUM`：指定显示的字节数。
- `-q` 或 `--quiet`：禁止显示文件名。

### 示例用法：

1. **默认显示文件的最后 10 行：**
   ```bash
   tail filename
   ```

2. **显示文件的最后 N 行：**
   ```bash
   tail -n 20 filename
   ```

3. **实时监控文件变化：**
   ```bash
   tail -f filename
   ```
   在文件末尾持续显示新追加的内容，适用于监控日志文件。

4. **显示文件的最后 1KB 内容：**
   ```bash
   tail -c 1k filename
   ```

5. **禁止显示文件名：**
   ```bash
   tail -q -n 5 filename
   ```
   使用 `-q` 选项，只显示行内容而不显示文件名。

### 实时监控日志的典型用法：

```bash
tail -f /var/log/syslog
```

上述命令将实时监控系统日志文件的变化，显示新追加的日志内容。

### 工作原理：

`tail` 命令通过在文件中定位到指定位置，或者通过持续读取文件末尾的内容，来显示文件的最后几行或字节。当使用 `-f` 选项时，`tail` 会持续监控文件的增长，并动态显示新追加的内容。

### 注意事项：

- `tail` 默认显示文件的最后 10 行，可以通过 `-n` 选项指定显示的行数。
- 当使用 `-f` 实时监控文件时，可以使用 `Ctrl + C` 终止监控。
- 通过 `-c` 选项可以指定以字节为单位显示文件的末尾内容。

`tail` 是一个简单但实用的命令，特别适用于查看和监控日志文件。在系统管理员和开发人员的日常工作中，`tail` 是一个常用的工具。

## linux tail命令 常用技巧

以下是一些在使用 `tail` 命令时的常用技巧：

1. **实时监控多个文件：**
   ```bash
   tail -f file1.log file2.log
   ```
   使用 `tail -f` 同时监控多个文件，可以在日志文件切换或同时记录多个日志时非常有用。

2. **显示指定范围的行数：**
   ```bash
   tail -n +11 filename
   ```
   使用 `+` 号可以显示指定范围之后的行数，上述例子显示从第11行开始到文件末尾的所有行。

3. **显示新追加的内容并保存到文件：**
   ```bash
   tail -f filename | tee output.log
   ```
   使用 `tee` 命令，可以实时显示新追加的内容并保存到文件中。

4. **以逆序方式显示文件内容：**
   ```bash
   tac filename
   ```
   如果 `tac` 命令可用，可以以逆序方式显示文件内容，即从末尾到开头。

5. **仅显示文件末尾的几个字符：**
   ```bash
   tail -c 100 filename
   ```
   使用 `-c` 选项可以指定显示的字节数，上述例子显示文件末尾的100个字节。

6. **在文件内容变化时显示通知：**
   ```bash
   tail -f filename | while read line; do notify-send "$line"; done
   ```
   使用 `notify-send`（需要桌面通知支持）在文件内容发生变化时显示通知。

7. **显示文件末尾的最后修改时间：**
   ```bash
   tail -n 1 filename
   ```
   使用 `-n 1` 选项显示文件末尾的最后一行，通常是文件的最后修改时间。

8. **使用 awk 过滤特定列：**
   ```bash
   tail -f access.log | awk '{print $7, $9}'
   ```
   使用 `awk` 过滤并显示日志文件中的特定列，上述例子显示访问日志中的第7列和第9列。

9. **显示文件的总行数：**
   ```bash
   tail -n +1 filename | wc -l
   ```
   使用 `wc -l` 命令可以显示文件的总行数，上述例子显示文件的实际行数。

这些技巧可以让你更灵活地使用 `tail` 命令，适应不同的需求和场景。

## tail  

+ tail, 用于查看文件的内容，有一个常用的参数`-r`常用于查阅正在改变的日志文件
+ `tail -f filename` 会把`filename`文件里的最尾部的内容显示在屏幕上，并且不断刷新，只要filename更新就可以看到最新的文件内容
+ 参数
  + `-f` : 循环读取
  + `-q` : 不显示处理信息
  + `-v` : 显示详细的处理信息
  + `-c <数目>` : 显示的字节数
  + `-n <行数>` : 显示文件的尾部n行内容

在Linux中，`tail`命令用于查看文件的末尾内容。它默认显示文件的最后10行，但也可以根据需要显示更多或更少的行数。

以下是`tail`命令的一般语法：

```
tail [options] file
```

其中，`options`是可选的一些选项，`file`是要查看的文件。

以下是一些常见的`tail`命令选项和用法：

1. 查看文件的最后10行：
   ```
   tail file.txt
   ```

   此命令将显示`file.txt`文件的最后10行内容。

2. 查看文件的指定行数：
   ```
   tail -n 20 file.txt
   ```

   此命令将显示`file.txt`文件的最后20行内容。

3. 实时监视文件的新增内容：
   ```
   tail -f file.txt
   ```

   此命令将持续显示`file.txt`文件的末尾内容，并随着文件的更新实时显示新增内容。

`tail`命令还支持其他选项，如显示文件的字节数、显示文件尾部的特定字节数、处理多个文件等。

`tail`命令在日志文件查看、实时监控文件变化等场景下非常有用。它可以帮助您快速定位文件的末尾内容，查找关键信息或进行实时追踪。
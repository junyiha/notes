---
category: Linux
date: 2024-05-22 09:00:00 +0800
layout: post
title: linux_2_41_stat
tag: Linux
---
## 简介

+ stat命令

## linux stat命令 详解

`stat` 命令用于显示文件或文件系统的详细信息，包括文件的权限、拥有者、大小、修改时间等。以下是关于 `stat` 命令的详细解释：

### 语法：

```bash
stat [选项] 文件名
```

### 常用选项：

- `-c`：自定义输出格式。
- `-t`：使用简洁的输出格式。
- `-f`：显示文件系统状态而非文件状态。

### 示例用法：

1. **显示文件详细信息：**
   ```bash
   stat filename
   ```
   这将显示文件的详细信息，包括文件大小、块大小、权限、拥有者、修改时间等。

2. **使用自定义输出格式：**
   ```bash
   stat -c "%n Size: %s bytes Owner: %U Group: %G Permissions: %a" filename
   ```
   使用 `-c` 选项，可以自定义输出格式，这个例子显示了文件名、大小、拥有者、所属组和权限。

3. **使用简洁的输出格式：**
   ```bash
   stat -t filename
   ```
   使用 `-t` 选项，以简洁的格式显示文件的信息。

4. **显示文件系统状态：**
   ```bash
   stat -f /
   ```
   使用 `-f` 选项，可以显示文件系统的状态而不是单个文件。

### 示例输出：

```
File: 'filename'
Size: 1234          Blocks: 8          IO Block: 4096   regular file
Device: 801h/2049d  Inode: 567890      Links: 1
Access: (0644/-rw-r--r--)  Uid: ( 1000/ username)   Gid: ( 1000/ groupname)
Access: 2022-01-01 12:34:56.789012345 +0000
Modify: 2022-01-01 12:34:56.789012345 +0000
Change: 2022-01-01 12:34:56.789012345 +0000
```

### 工作原理：

`stat` 命令通过读取文件系统的元数据（inode）来获取文件或文件系统的详细信息。它显示了文件的权限、拥有者、大小、链接数、inode 号码、块大小等信息。日期和时间的显示格式包括访问时间、修改时间和变更时间。

### 注意事项：

- `stat` 命令的输出可能会因操作系统和文件系统类型而有所不同。
- 有些文件系统可能不支持 `stat` 命令，或者可能需要特定的权限来执行。

`stat` 命令是一个非常强大的工具，可以用来查看文件和文件系统的详细信息，对于系统管理员和开发人员来说是一个很有用的诊断和调试工具。

## linux stat命令 常用技巧

`stat` 命令在 Linux 系统中用于查看文件或文件系统的详细信息。以下是一些 `stat` 命令的常用技巧：

1. **显示文件详细信息：**
   ```bash
   stat filename
   ```
   这是最基本的用法，显示指定文件的详细信息，包括大小、权限、拥有者、修改时间等。

2. **使用自定义输出格式：**
   ```bash
   stat -c "%n Size: %s bytes Owner: %U Group: %G Permissions: %a" filename
   ```
   使用 `-c` 选项，可以自定义输出格式，按照自己的需求显示文件信息。

3. **仅显示文件大小：**
   ```bash
   stat -c "%s" filename
   ```
   使用 `-c` 选项，仅显示文件的大小。

4. **显示文件的修改时间：**
   ```bash
   stat -c "%y" filename
   ```
   使用 `-c` 选项，仅显示文件的修改时间。

5. **使用简洁格式显示文件信息：**
   ```bash
   stat -t filename
   ```
   使用 `-t` 选项，以简洁格式显示文件信息，更适合用于脚本或其他自动化任务。

6. **显示文件系统的详细信息：**
   ```bash
   stat -f /
   ```
   使用 `-f` 选项，可以显示文件系统的详细信息，而不是单个文件。

7. **查看目录的详细信息：**
   ```bash
   stat -c "%n Size: %s bytes Items: %h" directory
   ```
   可以用 `stat` 命令查看目录的详细信息，包括目录下的项数。

8. **使用通配符查看多个文件的信息：**
   ```bash
   stat -c "%n Size: %s bytes" *.txt
   ```
   使用通配符，可以一次性查看多个文件的信息。

9. **将输出保存到文件：**
   ```bash
   stat filename > output.txt
   ```
   将 `stat` 命令的输出保存到文件，以便后续查看或分析。

这些技巧可以帮助你更灵活地使用 `stat` 命令，根据需求选择需要显示的信息以及输出格式。

## stat  

+ 也可以使用stat命令, 查看某个文件的类型信息

在Linux中，`stat`命令用于显示文件或文件系统的详细信息。它提供了一种查看文件或目录的各种属性的方法，如文件大小、权限、最后访问时间、最后修改时间等。

以下是`stat`命令的一般语法：

```
stat [options] file(s)
```

其中，`options`是可选的一些选项，`file(s)`是要显示信息的文件或目录列表。

以下是一些常见的`stat`命令选项和用法：

1. 显示文件详细信息：
   ```
   stat file.txt
   ```

   此命令将显示`file.txt`文件的详细信息，包括文件大小、所属用户和组、权限等。

2. 显示文件的最后访问时间：
   ```
   stat -c %x file.txt
   ```

   此命令将仅显示`file.txt`文件的最后访问时间。

3. 显示文件的修改时间：
   ```
   stat -c %y file.txt
   ```

   此命令将仅显示`file.txt`文件的修改时间。

`stat`命令还支持其他一些选项，如自定义输出格式、显示文件系统信息等。

请注意，`stat`命令对于查看文件或目录的详细属性非常有用，特别是在需要获取文件元数据和状态信息时。它提供了比`ls`命令更详细和精确的信息。

## stat 详解

`stat` 命令用于获取文件或文件系统的详细信息，包括文件大小、权限、最后访问时间、最后修改时间等。下面是 `stat` 命令的常用选项的详细解释：

- `-c` 或 `--format=`：指定输出格式。可以使用 `%` 开头的占位符来表示不同的属性。例如 `%n` 表示文件名，`%s` 表示文件大小，`%a` 表示访问权限等。

- `-f`：以文件系统的方式显示信息，而不是文件的方式。

- `-t`：以简短的格式显示时间。

- `-L` 或 `--dereference`：对于符号链接文件，显示链接指向的文件的信息，而不是链接文件本身的信息。

- `-c` 或 `--changes`：仅显示发生更改的文件信息。

- `-r` 或 `--format=FORMAT`：指定自定义输出格式。可以使用 `--printf` 选项后跟一个格式字符串来指定输出的具体格式。

- `-s` 或 `--file-system`：显示文件系统的信息而不是文件的信息。

- `-x` 或 `--debug`：显示调试信息。

- `-h` 或 `--help`：显示帮助信息。

这些选项可以根据具体的使用需求进行组合和调整，以获取所需的文件或文件系统的信息。

例如，使用以下命令获取文件 `example.txt` 的详细信息：

```shell
$ stat example.txt
```

输出结果可能类似于：

```
  File: example.txt
  Size: 1024          Blocks: 8          IO Block: 4096   regular file
Device: 801h/2049d    Inode: 31474816    Links: 1
Access: (0644/-rw-r--r--)  Uid: ( 1000/   user)   Gid: ( 1000/   group)
Access: 2023-07-04 10:15:32.555555555 +0000
Modify: 2023-07-03 15:45:21.123456789 +0000
Change: 2023-07-03 15:45:21.123456789 +0000
 Birth: 2023-07-02 09:30:00.987654321 +0000
```

这个输出提供了文件的名称、大小、权限、所有者、创建时间、访问时间和修改时间等信息。

请注意，`stat` 命令的输出格式和选项可能会根据不同的操作系统和文件系统有所不同。可以通过 `man stat` 命令来查看详细的文档和选项说明。
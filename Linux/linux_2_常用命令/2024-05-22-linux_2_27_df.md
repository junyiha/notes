---
category: Linux
date: 2024-05-22 09:00:00 +0800
layout: post
title: linux_2_27_df
tag: Linux
---
## 简介

+ df命令

## linux df命令 详解

`df`（磁盘空间使用情况）命令用于显示文件系统的磁盘空间使用情况统计信息。以下是`df`命令的基本语法和常用选项：

### 基本语法：

```bash
df [选项] [文件或目录]
```

### 常见选项：

1. **显示磁盘空间使用情况：**
   ```bash
   df
   ```
   不带任何选项时，`df`显示所有已挂载文件系统的空间使用情况。

2. **以人类可读的格式显示：**
   ```bash
   df -h
   ```
   `-h`选项会以易读的方式显示磁盘空间，使用K、M、G等单位。

3. **显示文件系统类型：**
   ```bash
   df -T
   ```
   `-T`选项会显示文件系统的类型。

4. **显示inode信息：**
   ```bash
   df -i
   ```
   `-i`选项会显示文件系统的inode（索引节点）使用情况。

5. **仅显示特定文件系统：**
   ```bash
   df -t ext4
   ```
   `-t`选项后跟文件系统类型，仅显示指定类型的文件系统信息。

6. **显示某个文件或目录所在的文件系统：**
   ```bash
   df /path/to/file
   ```
   提供文件或目录的路径，`df`会显示该路径所在文件系统的空间使用情况。

### 示例：

- 显示所有已挂载文件系统的磁盘空间使用情况：
  ```bash
  df
  ```

- 以人类可读的格式显示磁盘空间使用情况：
  ```bash
  df -h
  ```

- 显示文件系统类型：
  ```bash
  df -T
  ```

- 显示特定类型的文件系统（例如ext4）：
  ```bash
  df -t ext4
  ```

- 显示某个文件或目录所在文件系统的磁盘空间使用情况：
  ```bash
  df /path/to/file
  ```

`df`命令提供了一种快速查看系统磁盘空间使用情况的方式，有助于及时发现和解决存储空间不足的问题。你可以通过`man df`命令来查看更详细的使用说明。

## linux df命令 常用技巧

在使用`df`命令时，有一些常用的技巧和选项，可以帮助你更全面地了解文件系统的磁盘空间使用情况。以下是一些常用的`df`命令技巧：

1. **以人类可读的格式显示磁盘空间：**
   ```bash
   df -h
   ```
   通过`-h`选项，磁盘空间使用情况将以K、M、G等易读的单位显示。

2. **显示指定文件系统类型的磁盘空间：**
   ```bash
   df -t ext4
   ```
   使用`-t`选项可以指定显示某一类型的文件系统的磁盘空间使用情况。

3. **显示文件系统的inode信息：**
   ```bash
   df -i
   ```
   通过`-i`选项，可以查看文件系统的inode（索引节点）使用情况。

4. **以非本地文件系统的方式显示：**
   ```bash
   df -l
   ```
   使用`-l`选项，`df`将仅显示非本地文件系统的信息。

5. **不显示伪文件系统（如tmpfs）：**
   ```bash
   df -x tmpfs
   ```
   使用`-x`选项，可以排除显示指定类型的文件系统。

6. **仅显示某个挂载点的信息：**
   ```bash
   df /mnt/point
   ```
   提供挂载点路径，`df`将只显示该挂载点所在文件系统的磁盘空间使用情况。

7. **显示所有文件系统，包括没有任何块设备的：**
   ```bash
   df --all
   ```
   使用`--all`选项，`df`将显示所有的文件系统，即使它们没有关联的块设备。

8. **使用定时刷新显示磁盘空间：**
   ```bash
   watch -n 1 df -h
   ```
   使用`watch`命令，可以定时刷新显示磁盘空间使用情况，此例中每秒刷新一次。

这些技巧可以使你更灵活地使用`df`命令，便于你监控和管理系统的磁盘空间。记得查看`man df`以获取更多详细信息。

## df 

<!-- + df(disk free),命令用于显示目前在Linux系统上的文件系统磁盘的使用情况统计 -->

+ 简介：
  + df 是一个用于显示文件系统磁盘空间使用情况的常用命令。它可以告诉您有关磁盘分区或文件系统的容量、已用空间、可用空间和挂载点等信息.
  + 磁盘空间默认以1K为单位展示，单位的大小由环境变量 POSIXLY_CORRECT 设置

+ 语法：
```bash 
df [选项] [文件|目录]
```

+ 选项：
  + -a：显示所有文件系统，包括系统特殊文件系统。
  + -h：以易读的方式显示磁盘空间大小，以人类可读的单位（如 GB、MB）替代以字节为单位的大小。
  + -T：显示文件系统类型。
  + -i：显示索引节点的使用情况而不是磁盘块的使用情况。
  + -x 文件系统类型：排除指定类型的文件系统

+ 示例：
```bash 
# 显示所有挂载的文件系统的磁盘空间使用情况
df

# 显示所有文件系统的磁盘空间使用情况（包括特殊文件系统）
df -a

# 以易读的方式显示磁盘空间使用情况：
df -h

# 显示指定目录的磁盘空间使用情况
df /path/to/directory

# 显示指定文件的磁盘空间使用情况：
df /path/to/file

# 显示指定文件系统类型的磁盘空间使用情况
df -t ext4
```

+ 详解：
  + df 命令的输出包含以下列
  + 文件系统：文件系统的设备名称或路径。
  + 容量：文件系统的总容量。
  + 已用：已使用的磁盘空间量。
  + 可用：可用的磁盘空间量。
  + 已用%：已用空间的百分比。
  + 挂载点：文件系统所挂载的目录

## 中文语言包 

+ `apt-get install language-pack-zh-hans`

## du 

+ du(disk usage),命令用于显示目录或文件的大小
+ du会显示指定的目录或文件所占用的磁盘空间

在Linux中，`du`命令用于计算目录或文件的磁盘使用情况。它会递归地遍历指定的目录，并计算每个文件和子目录所占用的磁盘空间大小。`du`命令常用于查看文件和目录的大小，以便进行磁盘空间管理和优化。

以下是`du`命令的一般语法：

```
du [options] [directory/file]
```

其中，`options`是可选的一些选项，`directory/file`是要计算磁盘使用情况的目录或文件。

以下是一些常见的`du`命令选项和用法：

1. 计算目录的磁盘使用情况：
   ```
   du directory/
   ```

   此命令将递归地计算指定目录及其子目录的磁盘使用情况，并显示每个目录的大小。

2. 计算文件的磁盘使用情况：
   ```
   du file
   ```

   此命令将计算指定文件的磁盘使用情况，并显示其大小。

3. 以人类可读的格式显示磁盘使用情况：
   ```
   du -h directory/
   ```

   此命令将以可读的单位（如KB、MB、GB）显示磁盘使用情况。

4. 仅显示总的磁盘使用情况：
   ```
   du -sh directory/
   ```

   此命令将只显示指定目录的总磁盘使用情况，而不显示每个子目录的详细信息。

5. 排除某些文件或目录：
   ```
   du --exclude=pattern directory/
   ```

   此命令将排除符合指定模式的文件或目录，不计算它们的磁盘使用情况。

`du`命令还支持其他一些选项，如限制递归深度、显示每个文件的磁盘使用情况等。您可以使用`man du`命令查看完整的选项和用法说明。

总体而言，`du`命令是一个非常有用的工具，用于计算文件和目录的磁盘使用情况。它可以帮助您查找磁盘空间占用较大的文件和目录，以便进行磁盘空间管理和优化。

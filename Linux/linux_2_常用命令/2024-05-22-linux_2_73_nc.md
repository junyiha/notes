---
category: Linux
date: 2024-05-22 09:00:00 +0800
layout: post
title: linux_2_73_nc
tag: LinuxCommand
---
## 简介

+ nc命令

## linux nc命令 详解

`nc`（netcat）是一个用于网络通信的命令行工具。它可以用于创建 TCP 或 UDP 连接，进行端口扫描，以及在网络中传输数据。以下是一些 `nc` 命令的常见用法和选项：

### 1. **创建 TCP 连接：**
```bash
nc host port
```
通过指定主机和端口，可以使用 `nc` 命令创建一个 TCP 连接。

### 2. **创建 UDP 连接：**
```bash
nc -u host port
```
通过添加 `-u` 选项，可以使用 `nc` 命令创建一个 UDP 连接。

### 3. **监听端口：**
```bash
nc -l -p port
```
通过添加 `-l` 选项，`nc` 可以作为服务器监听指定端口。`-p` 选项用于指定监听的端口。

### 4. **传输文件：**
```bash
nc -l -p port > received_file  # 接收端
nc host port < local_file     # 发送端
```
通过 `nc` 命令，可以在网络中传输文件。在接收端使用 `>` 将传输的内容保存到文件，而在发送端使用 `<` 将本地文件内容发送到目标主机。

### 5. **端口扫描：**
```bash
nc -zv host start_port-end_port
```
通过添加 `-z` 选项，`nc` 可以用于进行端口扫描。`-v` 选项用于显示详细信息。

### 6. **使用反向连接：**
```bash
nc -l -p port -e /bin/bash
```
在监听端使用 `-e` 选项可以在接收连接时执行指定的命令，例如在上面的例子中，接收到连接后会执行 `/bin/bash`。

### 7. **获取 HTTP 响应头：**
```bash
echo -e "HEAD / HTTP/1.1\r\n\r\n" | nc host port
```
通过发送 HTTP HEAD 请求，可以获取远程服务器的响应头信息。

### 8. **保持连接打开：**
```bash
nc -k -l -p port
```
使用 `-k` 选项可以在每个连接断开后保持 `nc` 处于监听状态。

### 9. **限制传输速度：**
```bash
nc -l -p port | pv -L 1k | tar xvf -
```
使用 `pv` 命令可以限制传输速度。在上面的例子中，`nc` 接收到的数据通过 `pv` 限制了传输速度，然后通过 `tar` 解压缩。

### 10. **显示帮助信息：**
```bash
nc -h
```
使用 `-h` 选项可以显示 `nc` 命令的帮助信息，列出可用的选项和参数。

`nc` 命令非常强大且灵活，可以用于多种网络任务，如简单的网络通信、文件传输、端口扫描等。在使用 `nc` 命令时，请注意其强大的功能和潜在的安全风险，确保在安全环境中使用。

## linux nc命令 常用技巧

以下是一些在使用 `nc`（netcat）命令时的常用技巧和选项，以便更灵活地进行网络通信和处理任务：

### 1. **创建 TCP 连接并发送数据：**
```bash
echo "Hello, Server!" | nc host port
```
通过管道将数据发送到指定主机和端口。

### 2. **监听端口并显示接收的数据：**
```bash
nc -l -p port
```
使用 `-l` 选项可以将 `nc` 设置为监听模式，并通过指定的端口接收数据。

### 3. **监听端口并将接收的数据保存到文件：**
```bash
nc -l -p port > received_data.txt
```
通过重定向操作符 `>` 将接收到的数据保存到文件。

### 4. **使用 UDP 进行数据传输：**
```bash
nc -u host port
```
通过添加 `-u` 选项，可以使用 `nc` 命令创建一个 UDP 连接。

### 5. **发送文件到远程主机：**
```bash
tar czf - /path/to/local_dir | nc host port
```
使用 `tar` 和管道将本地目录压缩并发送到远程主机。

### 6. **接收文件并解压缩：**
```bash
nc -l -p port | tar xzf -
```
在监听端使用 `nc` 接收数据，并通过管道将数据解压缩。

### 7. **端口扫描：**
```bash
nc -zv host start_port-end_port
```
通过添加 `-z` 选项，`nc` 可以用于进行端口扫描。`-v` 选项用于显示详细信息。

### 8. **使用反向连接打开远程 Shell：**
```bash
nc -l -p port -e /bin/bash
```
在监听端使用 `-e` 选项可以在接收连接时执行指定的命令，例如在上面的例子中，接收到连接后会执行 `/bin/bash`。

### 9. **保持连接打开：**
```bash
nc -k -l -p port
```
使用 `-k` 选项可以在每个连接断开后保持 `nc` 处于监听状态。

### 10. **限制传输速度：**
```bash
nc -l -p port | pv -L 1k | tar xvf -
```
使用 `pv` 命令可以限制传输速度。在上面的例子中，`nc` 接收到的数据通过 `pv` 限制了传输速度，然后通过 `tar` 解压缩。

### 11. **测试 HTTP 服务器的响应：**
```bash
echo -e "GET / HTTP/1.1\r\nHost: example.com\r\n\r\n" | nc example.com 80
```
通过发送 HTTP GET 请求，可以测试 HTTP 服务器的响应。

### 12. **显示帮助信息：**
```bash
nc -h
```
使用 `-h` 选项可以显示 `nc` 命令的帮助信息，列出可用的选项和参数。

这些技巧可以帮助你更灵活地使用 `nc` 命令进行网络通信和处理任务。请注意，`nc` 是一个强大的工具，正确使用它并保障安全性非常重要。在网络上使用时，请确保你了解所有操作的后果，以避免潜在的安全风险。

## nc 常用选项

`nc`（netcat）是一个功能强大的工具，具有许多选项，以适应各种网络连接和数据传输需求。以下是一些常用的 `nc` 命令选项：

1. **基本选项：**

   - `-l`：监听模式，使 `nc` 成为服务器并等待连接。
   - `-p <port>`：指定要监听或连接的端口号。
   - `-u`：使用 UDP 协议而不是默认的 TCP 协议。
   - `-v`：显示详细的输出，使操作更可见。

2. **数据传输选项：**

   - `-e <command>`：在连接上运行指定的命令。仅在监听模式时可用，用于创建反向 shell 或执行其他操作。
   - `-c <command>`：在连接上运行指定的命令。仅在监听模式时可用，类似于 `-e` 选项，但更通用。

3. **连接选项：**

   - `-w <timeout>`：设置超时时间，如果在指定的时间内没有连接，则关闭。
   - `-z`：进行端口扫描，但不发送数据，仅测试连接可达性。
   - `-s <source_ip>`：设置源 IP 地址，用于伪装连接的源。

4. **其他选项：**

   - `-k`：保持监听状态，即使有一个连接断开。
   - `-n`：禁用 DNS 解析，使用 IP 地址而不是域名。
   - `-q <seconds>`：设置间隔时间，用于在数据传输时产生延迟。

示例用法：

- 创建 TCP 连接：`nc <hostname> <port>`
- 创建 UDP 连接：`nc -u <hostname> <port>`
- 监听 TCP 连接：`nc -l <port>`
- 监听 UDP 连接：`nc -lu <port>`
- 代理服务器：`nc -l -p <port> -c "nc <destination_host> <destination_port>"`
- 端口转发：`nc -l -p <local_port> -c "nc <destination_host> <destination_port>"`

要查看完整的选项列表和详细说明，请在终端中运行 `man nc` 或 `nc --help`，以查看官方文档和帮助信息。不同的 `nc` 版本可能会有微小的差异，因此在实际使用时最好查阅适用版本的文档。

## netcat 

Netcat（也称为 `nc`）是一个非常强大的网络工具，它在 Linux 系统中被广泛用于创建各种网络连接、数据传输和网络调试任务。以下是关于 Netcat 的一些详细说明：

1. **基本用法：**
   在终端中，你可以使用以下命令来创建简单的 TCP 或 UDP 连接：
   
   - 创建 TCP 连接：`nc <hostname> <port>`
   - 创建 UDP 连接：`nc -u <hostname> <port>`

2. **监听模式：**
   Netcat 可以作为服务器监听端口，等待来自客户端的连接。使用以下命令来监听 TCP 或 UDP 连接：
   
   - 监听 TCP 连接：`nc -l <port>`
   - 监听 UDP 连接：`nc -lu <port>`

3. **文件传输：**
   Netcat 可以用于在两台计算机之间传输文件。在发送端运行 `nc` 命令，而在接收端使用 `nc` 命令监听端口并保存传输的数据。例如：
   
   - 发送文件：`nc -w 3 <receiver_ip> <port> < file_to_send`
   - 接收文件：`nc -l <port> > received_file`

4. **端口扫描：**
   使用 Netcat 可以进行基本的端口扫描，以检查目标主机上的哪些端口是开放的。例如，扫描前 1000 个端口：
   
   - `nc -zv <hostname> 1-1000`

5. **代理和端口转发：**
   Netcat 还可以用于创建简单的代理服务器或端口转发。这对于将流量从一个端口转发到另一个端口或者通过一个中间主机进行连接很有用。例如：
   
   - 创建代理服务器：`nc -l -p <port_to_listen> -c "nc <destination_host> <destination_port>"`
   - 端口转发：`nc -l -p <local_port> -c "nc <destination_host> <destination_port>"`

6. **其他高级用法：**
   Netcat 还支持许多高级特性，例如使用 `-e` 选项在连接上运行指定的命令，使用 `-k` 选项保持监听状态，以及使用 `-s` 选项设置源 IP 地址等。

请注意，Netcat 是一个功能强大但也可能存在潜在风险的工具。由于其能够在网络上创建各种连接和交换数据，因此可能被滥用用于恶意活动。在使用 Netcat 时，请确保你了解其操作，并遵循合法和道德的使用原则。

要查看更多关于 Netcat 的详细信息和用法，请在终端中运行 `man nc` 或 `nc --help`，以查看官方文档和帮助信息。
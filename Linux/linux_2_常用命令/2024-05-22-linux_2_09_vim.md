---
category: Linux
date: 2024-05-22 09:00:00 +0800
layout: post
title: linux_2_09_vim
---
## 简介

+ vim命令 相关笔记

## linux vim命令 详解

Vim是一款功能强大的文本编辑器，支持多种操作模式和丰富的命令。以下是一些常用的Vim命令的详解：

### 1. **基本移动命令（Normal Mode）：**
   - `h`：向左移动一个字符。
   - `j`：向下移动一行。
   - `k`：向上移动一行。
   - `l`：向右移动一个字符。
   - `w`：跳到下一个单词的开头。
   - `b`：跳到前一个单词的开头。
   - `e`：跳到当前或下一个单词的末尾。
   - `0`：跳到当前行的开头。
   - `^`：跳到当前行的第一个非空字符。
   - `$`：跳到当前行的末尾。

### 2. **插入文本（Insert Mode）：**
   - `i`：在光标前插入文本。
   - `I`：在当前行的开头插入文本。
   - `a`：在光标后插入文本。
   - `A`：在当前行的末尾插入文本。
   - `o`：在当前行的下方插入新行，并进入插入模式。
   - `O`：在当前行的上方插入新行，并进入插入模式。

### 3. **删除和复制（Normal Mode）：**
   - `x`：删除光标所在位置的字符。
   - `dd`：删除当前行。
   - `yy`：复制当前行。
   - `p`：在光标后粘贴复制的内容。
   - `P`：在光标前粘贴复制的内容。

### 4. **撤销和重做（Normal Mode）：**
   - `u`：撤销上一次操作。
   - `Ctrl + r`：重做上一次撤销的操作。

### 5. **搜索与替换（Normal Mode）：**
   - `/pattern`：正向搜索匹配 `pattern` 的文本。
   - `?pattern`：反向搜索匹配 `pattern` 的文本。
   - `:s/old_text/new_text/g`：替换当前行中所有的 `old_text` 为 `new_text`。
   - `:%s/old_text/new_text/g`：全局替换文件中所有的 `old_text` 为 `new_text`。

### 6. **保存和退出（Normal Mode）：**
   - `:w`：保存文件。
   - `:q`：退出。
   - `:wq`：保存并退出。
   - `:q!`：强制退出，不保存修改。

### 7. **显示行号和状态栏（Normal Mode）：**
   - `:set number`：显示行号。
   - `:set nonumber`：隐藏行号。
   - `:set ruler`：显示状态栏。

### 8. **多窗口操作（Normal Mode）：**
   - `:vsp`：垂直分割当前窗口。
   - `:sp`：水平分割当前窗口。
   - `Ctrl + w + (h/j/k/l)`：切换焦点到左/下/上/右窗口。

### 9. **保存会话（Normal Mode）：**
   - `:mksession filename`：保存当前会话到文件 `filename`。
   - `:source filename`：加载会话文件。

### 10. **帮助（Normal Mode）：**
   - `:help`：打开帮助文档。
   - 在帮助文档中，使用 `:q` 退出。

这是一些常用的Vim命令，Vim有很多其他功能和命令，可以根据需要深入学习。在Vim中，熟练使用键盘快捷键和命令可以大大提高编辑效率。

## linux vim命令 常用技巧

在Linux中使用Vim时，以下是一些常用的技巧和命令：

### 1. **插入模式切换：**
   - `i`：在当前光标位置前插入。
   - `I`：在当前行首插入。
   - `a`：在当前光标位置后插入。
   - `A`：在当前行尾插入。

### 2. **删除和复制：**
   - `x`：删除光标所在位置的字符。
   - `dd`：删除整行。
   - `yy`：复制整行。
   - `p`：在光标后粘贴复制的内容。
   - `P`：在光标前粘贴复制的内容。

### 3. **跳转和定位：**
   - `gg`：跳到文件开头。
   - `G`：跳到文件末尾。
   - `:n`：跳到第 n 行。
   - `Ctrl + g`：显示当前行号和文件信息。

### 4. **搜索与替换：**
   - `/pattern`：正向搜索匹配 `pattern` 的文本。
   - `?pattern`：反向搜索匹配 `pattern` 的文本。
   - `:s/old/new/g`：替换当前行中所有匹配的 `old` 为 `new`。
   - `:%s/old/new/g`：替换文件中所有匹配的 `old` 为 `new`。

### 5. **撤销和重做：**
   - `u`：撤销上一步操作。
   - `Ctrl + r`：重做上一步撤销的操作。

### 6. **保存和退出：**
   - `:w`：保存文件。
   - `:q`：退出。
   - `:wq`：保存并退出。
   - `:q!`：强制退出，不保存修改。

### 7. **文本块操作：**
   - `v`：进入可视模式，按字符选择。
   - `V`：进入可视行模式，按行选择。
   - `Ctrl + v`：进入可视块模式，按块选择。
   - `y`：复制选择的文本。
   - `d`：删除选择的文本。
   - `p`：在光标后粘贴文本。
   - `P`：在光标前粘贴文本。

### 8. **自动补全：**
   - 在插入模式下，按 `Ctrl + n` 可以进行关键字自动补全。

### 9. **多文件编辑：**
   - `:e filename`：打开文件。
   - `:vsp filename`：垂直分割窗口并打开文件。
   - `:sp filename`：水平分割窗口并打开文件。
   - `:bnext`：切换到下一个缓冲区。

### 10. **宏录制：**
   - `q<register>`：开始录制宏到指定寄存器。
   - `q`：停止录制宏。
   - `@<register>`：执行录制的宏。

### 11. **折叠和展开：**
   - `zf`：创建折叠。
   - `zo`：展开折叠。
   - `zc`：关闭折叠。

这些是一些Vim中常用的技巧和命令，能够帮助你更高效地进行文本编辑。熟练掌握这些技巧可以提升你在Vim中的编辑体验。

## linux vim命令 高级技巧

高级的Vim技巧涉及到更深层次的编辑和定制，下面是一些高级技巧：

### 1. **正则表达式搜索和替换：**
   - 使用正则表达式进行更灵活的搜索和替换。例如，`:s/\vpattern/replace/g`，其中 `\v` 表示启用“very magic”模式，使得正则表达式更简洁。

### 2. **宏（Macro）：**
   - 使用宏记录和重放操作序列。录制宏：`q<register>`开始录制，`q`结束录制。执行宏：`@<register>`。

### 3. **折叠：**
   - 使用 `zf` 创建折叠，`zo` 展开折叠，`zc` 关闭折叠。可通过 `zM` 全部折叠，`zR` 全部展开。

### 4. **标签页和窗口管理：**
   - 使用 `:tabnew` 打开新标签页，`:tabnext` 切换到下一个标签页，`:sp` 和 `:vsp` 打开新窗口。使用 `Ctrl + w` 然后 `h/j/k/l` 在窗口之间移动。

### 5. **会话管理：**
   - 使用 `:mksession` 保存当前会话，`:source` 加载会话文件。这允许你保存并重新加载编辑器状态。

### 6. **自动命令：**
   - 使用 `autocmd` 命令在特定事件发生时自动执行命令。例如，在文件保存时自动运行某个命令。

### 7. **自定义键盘映射：**
   - 使用 `map` 命令将一系列命令映射到键盘快捷键。例如，`:map <F2> :w<CR>` 将 `<F2>` 键映射到保存文件。

### 8. **插件管理器：**
   - 使用插件管理器（如Vim-Plug、Pathogen、Vundle）安装和管理Vim插件，以扩展Vim的功能。

### 9. **模式和语法高亮：**
   - 定制Vim的显示模式和语法高亮，以适应不同的文件类型。可以使用 `autocmd` 在文件类型加载时设置不同的选项。

### 10. **查找文件和替换：**
   - 使用 `:find` 查找文件，`:grep` 在项目中搜索，`:vimgrep` 在多个文件中进行搜索，`:cfdo` 在搜索结果上执行命令。

### 11. **异步运行命令：**
   - 使用 `:terminal` 打开一个终端窗口，或使用插件执行异步任务，如`:AsyncRun`。

### 12. **自定义颜色方案：**
   - 修改或添加颜色方案以改变Vim的外观。可以使用 `:colorscheme` 切换颜色方案，或手动编辑 `.vimrc` 文件。

### 13. **局部配置：**
   - 使用 `autocmd FileType` 和 `augroup` 在不同的文件类型下应用不同的配置。

这些高级技巧可以让你更深入地定制和利用Vim的功能。记住，Vim是非常灵活的编辑器，通过深入了解和使用其高级功能，你可以提高编辑效率和适应不同的工作流程。

## linux vim命令 搜索相关使用技巧 详解

在Vim中，搜索是一个常见而强大的操作。以下是一些搜索相关的使用技巧的详解：

### 1. **正向搜索和反向搜索：**
   - `/pattern`：在光标后正向搜索匹配 `pattern` 的文本。
   - `?pattern`：在光标前反向搜索匹配 `pattern` 的文本。

### 2. **匹配整个单词：**
   - 在搜索模式下，使用 `\b` 来匹配整个单词。例如，搜索 `\bword\b` 可以匹配单独的 "word"。

### 3. **忽略大小写：**
   - 在搜索模式下，使用 `\c` 来忽略大小写。例如，搜索 `ignore\c` 可以匹配 "ignore"、"IGNORE"、"IgNore"等。

### 4. **使用正则表达式：**
   - Vim支持强大的正则表达式。例如，`/^\d\{3\}` 可以匹配以三个数字开头的行。

### 5. **高亮搜索结果：**
   - 在正常模式下，输入 `:set hlsearch` 可以启用搜索结果的高亮显示。使用 `:nohlsearch` 可以取消高亮显示。

### 6. **搜索下一个和上一个匹配项：**
   - 在正常模式下，按下 `n` 可以跳转到下一个匹配项。按下 `N` 可以跳转到上一个匹配项。

### 7. **使用标签页显示搜索结果：**
   - 使用 `:tabnew` 打开新标签页，然后执行搜索命令，可以在新标签页中显示搜索结果。

### 8. **搜索并替换：**
   - `:s/old_text/new_text/g`：替换当前行中所有的 `old_text` 为 `new_text`。
   - `:%s/old_text/new_text/g`：全局替换文件中所有的 `old_text` 为 `new_text`。

### 9. **使用搜索历史：**
   - 在搜索模式下，按 `Ctrl + r` 可以进入历史搜索模式，然后选择之前的搜索项。

### 10. **在多个文件中搜索：**
   - 使用 `:grep` 在整个项目中搜索，或者使用 `:vimgrep` 在多个文件中进行搜索。例如，`:vimgrep /pattern/ *.txt`。

### 11. **在当前文件中搜索并定位：**
   - 使用 `*` 在光标下搜索当前单词并跳转到下一个匹配项。使用 `#` 在光标上搜索当前单词并跳转到上一个匹配项。

### 12. **使用搜索匹配项进行操作：**
   - 在可视模式下选择文本，然后按 `*` 或 `#` 将光标移动到下一个或上一个匹配项。

这些技巧可以让你更有效地在Vim中进行搜索操作。通过组合不同的搜索命令和选项，你可以快速定位和处理文本中的特定内容。
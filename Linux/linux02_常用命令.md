## 简介

+ linux环境下常用命令 第二部分

## gsettings

`gsettings` 是一个命令行工具，用于在 Ubuntu 中访问和修改 GNOME 桌面环境的设置。它允许你通过命令行方式读取和更改各种系统设置、应用程序设置以及桌面外观和行为等。

下面是一些 `gsettings` 命令的常见用法和解释：

1. `gsettings list-schemas`：列出可用的模式（schemas）。这将显示所有可用的模式名称，你可以使用这些模式名称来查询和修改相关设置。

2. `gsettings list-keys SCHEMA`：列出给定模式（SCHEMA）下的所有键（keys）。使用具体的模式名称替换 `SCHEMA` 部分来查看该模式下的所有可用键。

3. `gsettings get SCHEMA KEY`：获取给定模式（SCHEMA）下给定键（KEY）的值。这可用于查看当前设置的值。

4. `gsettings set SCHEMA KEY VALUE`：将给定模式（SCHEMA）下给定键（KEY）的值设置为指定的值（VALUE）。使用这个命令可以修改设置的值。

5. `gsettings reset SCHEMA KEY`：重置给定模式（SCHEMA）下给定键（KEY）的值为默认值。

6. `gsettings range SCHEMA KEY`：显示给定模式（SCHEMA）下给定键（KEY）的值的允许范围。

需要注意的是，`SCHEMA` 是模式的名称，而 `KEY` 是模式中的键的名称。你可以使用 `list-schemas` 和 `list-keys` 命令来获取可用的模式和键的列表。

举例来说，`org.gnome.desktop.background` 是一个常用的模式，用于控制桌面背景相关的设置。你可以使用类似以下的命令来修改桌面背景图片：
```
gsettings set org.gnome.desktop.background picture-uri 'file:///path/to/image.jpg'
```
这会将桌面背景设置为指定路径下的图像文件。

`gsettings` 提供了一种方便的方式来从命令行管理和调整 GNOME 桌面环境的各种设置。你可以查阅相关的文档和手册来获取更多关于 `gsettings` 命令的详细信息和示例用法。

---

## find

在Linux中，`find`命令用于在文件系统中查找符合指定条件的文件和目录。它提供了强大的搜索功能，可以根据不同的搜索标准来定位文件和目录。

`find`命令的基本语法如下：

```shell
find [路径] [表达式]
```

其中，`路径`指定要搜索的起始目录路径，`表达式`用于指定搜索条件和操作。

以下是一些常见的用法示例：

1. 搜索指定目录下的所有文件：
```shell
find /path/to/directory
```

2. 搜索指定目录下的特定文件类型（例如，所有的文本文件）：
```shell
find /path/to/directory -type f -name "*.txt"
```

3. 搜索指定目录及其子目录下的所有文件：
```shell
find /path/to/directory -type f
```

4. 搜索指定目录下最近修改的文件：
```shell
find /path/to/directory -type f -mtime -7
```
上述命令将搜索在最近7天内被修改的文件。

5. 搜索指定目录下的文件并执行操作（如打印文件名或删除文件）：
```shell
find /path/to/directory -type f -exec echo {} \;
find /path/to/directory -type f -exec rm {} \;
```

需要注意以下几点：

- `find`命令默认会递归地搜索指定目录及其子目录下的文件和目录。
- `-type`选项用于指定要搜索的文件类型，例如`f`表示普通文件，`d`表示目录。
- `-name`选项用于指定文件名的模式匹配。
- `-mtime`选项用于指定文件的修改时间，例如`-mtime -7`表示最近7天内修改的文件。
- `-exec`选项用于在找到的文件上执行特定的命令。

`find`命令还支持许多其他选项和表达式，用于更精确地控制搜索条件和操作。你可以使用`man find`命令查阅`find`命令的详细文档，以了解更多关于其用法和选项的信息。

---

## find -exec选项

在Linux中，`-exec`是`find`命令的一个选项，用于在找到的文件上执行指定的命令。`-exec`选项允许你对找到的文件执行各种自定义操作。

`-exec`选项的语法如下：

```shell
-exec command {} \;
```

解释如下：

- `command`：要执行的命令，可以是任何合法的Linux命令。命令必须以空格或分号结尾，并用单引号或双引号括起来。
- `{}`：是一个占位符，表示`find`命令找到的每个文件。`{}`会被实际的文件名替换。
- `\;`：表示`-exec`选项的结束，必须使用反斜杠转义字符进行转义。

以下是一些常见的用法示例：

1. 打印找到的文件名：
```shell
find /path/to/directory -type f -exec echo {} \;
```

2. 复制找到的文件到目标目录：
```shell
find /path/to/directory -type f -exec cp {} /path/to/destination/ \;
```

3. 删除所有找到的文件：
```shell
find /path/to/directory -type f -exec rm {} \;
```

需要注意以下几点：

- 如果在`command`中使用`{}`，确保在命令中引用文件名之前进行适当的转义或引号处理，以避免解释错误。
- 如果要对多个文件执行命令，可以使用`+`代替`\;`作为结束符。这样会将多个文件一次传递给命令，从而提高效率。

总而言之，`-exec`选项使得`find`命令具有强大的功能，可以在找到的文件上执行自定义的命令和操作。这对于批量处理文件或执行复杂的操作非常有用。

---

## OpenSSH 详解

OpenSSH（Open Secure Shell）是一个用于安全远程登录和文件传输的开源工具套件，提供了加密的网络通信协议和相关的命令行工具。它是SSH协议的实现之一，广泛用于Linux、Unix和其他类Unix系统上。

以下是OpenSSH的一些主要特点和功能：

1. 安全远程登录：OpenSSH提供了ssh命令，可以通过安全的加密通道远程登录到其他计算机，并在远程终端上执行命令。这使得用户可以远程管理和访问远程服务器，而不必直接物理接触远程计算机。

2. 文件传输：OpenSSH提供了scp和sftp命令，用于在本地计算机和远程服务器之间安全地传输文件和目录。这使得用户可以轻松地复制文件、上传和下载文件，以及进行远程文件管理。

3. SSH密钥认证：OpenSSH支持使用SSH密钥对进行身份认证，而不是传统的基于密码的认证方式。用户可以生成公钥和私钥，将公钥部署到服务器上，从而实现免密码登录。这提供了更高的安全性和方便性。

4. 端口转发和隧道：OpenSSH支持本地和远程端口转发，以及创建安全的隧道连接。这使得用户可以安全地访问远程计算机上的服务，甚至通过防火墙和网络限制。

5. X11转发：OpenSSH支持X11转发，允许用户在远程计算机上运行图形化应用程序，并将其显示到本地计算机上。这使得用户可以远程访问图形界面应用程序，而不必直接在远程计算机上操作。

6. 其他功能：OpenSSH还提供了许多其他功能，如代理转发、多因子认证、登录日志记录等，以增强安全性和用户管理能力。

总的来说，OpenSSH是一个功能强大、安全可靠的工具套件，为用户提供了远程访问和文件传输等功能，并通过加密通信和身份认证提供了强大的安全性保障。它在服务器管理、系统维护和远程协作等场景中得到广泛应用。

---

## OpenSSH 相关命令

OpenSSH是一个用于安全远程登录的开源工具套件，提供了一系列命令和协议用于远程访问和管理Linux系统。以下是一些常用的OpenSSH相关命令：

1. ssh：远程登录到服务器或执行远程命令。
```
ssh user@hostname
```
其中，`user`是远程服务器的用户名，`hostname`是远程服务器的主机名或IP地址。

2. scp：安全地复制文件和目录到远程服务器。
```
scp source_file user@hostname:destination_path
```
其中，`source_file`是本地文件路径，`user`是远程服务器的用户名，`hostname`是远程服务器的主机名或IP地址，`destination_path`是远程服务器上的目标路径。

3. sftp：使用类似FTP的方式在本地系统和远程服务器之间传输文件。
```
sftp user@hostname
```
通过此命令进入sftp会话后，可以执行一系列文件传输操作。

4. ssh-keygen：生成和管理SSH密钥对。
```
ssh-keygen -t rsa
```
该命令用于生成RSA密钥对，可以使用其他选项指定密钥类型和文件名等。

5. ssh-agent：管理SSH代理，用于管理私钥并免密码登录。
```
eval $(ssh-agent)
```
该命令启动ssh-agent代理，并将其相关环境变量设置为当前shell的环境变量。

6. ssh-add：将私钥添加到ssh-agent代理中。
```
ssh-add ~/.ssh/id_rsa
```
该命令将指定的私钥添加到ssh-agent代理中，以便在进行SSH身份验证时使用。

这些命令是OpenSSH套件中的一部分，用于实现安全远程登录和文件传输等功能。请根据具体需求和情况选择适当的命令使用。

---

## ssh-keygen

`ssh-keygen`命令是Linux系统中用于生成SSH密钥对的工具。SSH密钥对由一对公钥和私钥组成，用于身份验证和安全通信。

下面是`ssh-keygen`命令的一些常见选项和用法：

1. 生成RSA密钥对：
```
ssh-keygen -t rsa
```
这将生成一个RSA密钥对，默认情况下，公钥文件为`id_rsa.pub`，私钥文件为`id_rsa`。

2. 生成DSA密钥对：
```
ssh-keygen -t dsa
```
这将生成一个DSA密钥对，默认情况下，公钥文件为`id_dsa.pub`，私钥文件为`id_dsa`。

3. 生成ECDSA密钥对：
```
ssh-keygen -t ecdsa
```
这将生成一个ECDSA密钥对，默认情况下，公钥文件为`id_ecdsa.pub`，私钥文件为`id_ecdsa`。

4. 生成ED25519密钥对：
```
ssh-keygen -t ed25519
```
这将生成一个ED25519密钥对，默认情况下，公钥文件为`id_ed25519.pub`，私钥文件为`id_ed25519`。

5. 指定密钥文件名：
```
ssh-keygen -f <filename>
```
使用`-f`选项可以指定生成的密钥文件的文件名。例如，`ssh-keygen -f mykey`将生成`mykey`作为文件名的密钥对。

6. 设置密钥密码：
```
ssh-keygen -p
```
使用`-p`选项可以更改已有密钥文件的密码。

7. 查看密钥指纹：
```
ssh-keygen -lf <public_key_file>
```
使用`-lf`选项可以查看公钥文件的指纹。

以上是一些常见的`ssh-keygen`命令选项和用法。生成密钥对后，可以将公钥文件部署到服务器上，以便进行SSH身份验证。私钥文件应该妥善保管，不应与他人共享。

## nautilus 

`nautilus` 是 Linux 系统中一个常用的文件管理器，它提供了图形化界面来浏览和管理文件和文件夹。下面是对 `nautilus` 命令的详细解释：

1. **启动 Nautilus：** 可以在终端中输入 `nautilus` 命令来启动 Nautilus 文件管理器。它会打开一个新的窗口显示当前用户的主目录。

2. **打开指定目录：** 可以使用 `nautilus` 命令并指定目录路径来打开特定的目录。例如，`nautilus /path/to/directory` 会打开指定路径的目录。

3. **图形化界面操作：** Nautilus 提供了一系列图形化界面操作，包括文件和文件夹的复制、剪切、粘贴、重命名、删除等。可以使用鼠标右键单击文件或文件夹，或使用菜单栏的选项来执行这些操作。

4. **查看和排序文件列表：** Nautilus 允许你以不同的方式查看和排序文件列表。你可以切换到图标视图、列表视图或压缩视图，并可以根据名称、大小、类型等进行排序。

5. **搜索文件：** Nautilus 提供了搜索功能，可以通过菜单栏中的搜索栏输入关键字来搜索文件和文件夹。

6. **自定义文件管理器：** Nautilus 允许你自定义文件管理器的外观和行为。你可以通过菜单栏中的“偏好设置”选项访问各种设置选项，如外观、行为、文件预览等。

请注意，`nautilus` 命令通常用于在桌面环境中打开 Nautilus 文件管理器。如果你使用的是不带桌面环境的服务器版本的 Linux，可能无法直接运行 `nautilus` 命令。在服务器上，你可能需要使用其他基于终端的文件管理工具。

---

## init 

+ 简介：
  + 在Linux中，init 是系统引导过程中的第一个用户级进程，它是系统的第一个进程，负责初始化系统并启动其他进程。但是在最新的Linux发行版中，init 进程已经被更现代化的 systemd 替代
  + init 进程的主要任务是根据系统的运行级别（runlevel）来启动相应的服务和进程。运行级别定义了系统的状态或功能模式，例如单用户模式、多用户图形界面模式等。不同的运行级别对应着不同的系统配置和服务启动状态。
  + 在传统的系统中，可以使用 init 命令来切换运行级别

+ 语法：
```bash 
init <运行级别>
```

+ 常见的运行级别：
  + 0：关机
  + 1：单用户模式
  + 2：多用户模式（没有NFS服务）
  + 3：完全的多用户模式
  + 4：保留给用户自定义
  + 5：图形界面模式
  + 6：重新启动

+ 示例：
```bash 
init 5
```

+ 注：
  + 需要注意的是，init 命令需要超级用户权限才能执行，因此通常需要使用 sudo 或以 root 用户身份运行
  + 虽然在现代的Linux发行版中，init 进程已被 systemd 取代，但了解 init 的基本概念仍然有助于理解系统的引导过程和运行级别的概念

---

## xxd

+ 简介：
  + xxd 是一个在 Linux 系统中用于十六进制和ASCII码转换的命令行工具。它可以将文件或输入的数据转换为十六进制和ASCII码的表示形式，或者将十六进制和ASCII码的数据还原为二进制格式

+ 语法
```bash
xxd [选项] [文件名]
```

+ 选项：
  + -b：以二进制格式显示数据。
  + -c <列数>：指定每行显示的列数。
  + -e：以大端字节序（big-endian）格式显示数据。
  + -g <字节数>：指定每个显示的数据块的字节数。
  + -l <长度>：指定要显示的字节数。
  + -s <偏移量>：指定要从输入中开始显示的偏移量。
  + -u：以大写字母表示十六进制数值。
  + -v：以完整的输出格式显示，不省略重复的行。

## hexdump

+ 简介：
  + hexdump 命令在 Linux 中用于以十六进制和ASCII码形式显示文件或输入的内容。它可以将二进制文件或数据转换为人可读的格式

+ 语法：
```bash
hexdump [选项] [文件名]
```

+ 选项：
  + -C：以十六进制和ASCII码形式显示内容，并在每行末尾显示对应的ASCII字符。
  + -b：以八进制格式显示内容。
  + -c：以字符形式显示内容。
  + -d：以十进制格式显示内容。
  + -e：指定自定义的格式字符串来显示内容。
  + -n <长度>：指定要显示的字节数。
  + -s <偏移量>：指定要从输入中开始显示的偏移量。
  + -v：以完整的输出格式显示，不省略重复的行。
  + -x：以十六进制格式显示内容。

## exiftool

+ 简介：
  + 在 Linux 上可以使用 exiftool 命令来查看图片的元数据。你可以在终端中运行以下命令来获取图片的详细元数据：
  + `exiftool image.jpg`

+ 注：
  + 安装依赖包libimage-exiftool-perl: `sudo apt install libimage-exiftool-perl`

## md5sum 

`md5sum` 是一个常用的 Linux 命令，用于计算文件的 MD5 哈希值。它的基本语法如下：

```
md5sum [选项] 文件
```

其中，`文件` 参数是要计算哈希值的文件路径。

以下是一些常用的选项：

- `-b` 或 `--binary`：以二进制模式读取文件。
- `-c` 或 `--check`：校验 MD5 校验和文件。
- `-t` 或 `--text`：以文本模式读取文件。
- `-q` 或 `--quiet`：只显示校验结果，不显示详细信息。

使用示例：

1. 计算单个文件的 MD5 哈希值：
   ```
   md5sum file.txt
   ```

2. 计算多个文件的 MD5 哈希值：
   ```
   md5sum file1.txt file2.txt file3.txt
   ```

3. 通过 MD5 校验和文件校验文件的完整性：
   ```
   md5sum -c checksum.md5
   ```

4. 只显示校验结果，不显示详细信息：
   ```
   md5sum -q file.txt
   ```

请注意，`md5sum` 命令计算的是文件的 MD5 哈希值，而不是文件内容的加密哈希。它通常用于校验文件的完整性，确保文件在传输过程中没有被篡改。

## linux下，常用的查看动态库的符号链接工具

1. nm：nm 命令用于列出目标文件或共享库中的符号信息。可以使用 nm 命令来查看动态库中的符号链接。例如，要查看一个动态库文件（如libexample.so）中的符号链接，可以运行以下命令：
   ```
   nm -D libexample.so
   ```
   这将显示动态库中的所有符号及其链接信息。

2. objdump：objdump 命令用于显示目标文件或可执行文件的信息，包括符号表。可以使用 objdump 命令来查看动态库中的符号链接。例如，要查看一个动态库文件中的符号链接，可以运行以下命令：
   ```
   objdump -T libexample.so
   ```
   这将显示动态库中的符号链接表。

3. readelf：readelf 命令用于显示 ELF（Executable and Linkable Format）格式文件的信息，包括符号表。可以使用 readelf 命令来查看动态库中的符号链接。例如，要查看一个动态库文件中的符号链接，可以运行以下命令：
   ```
   readelf -s libexample.so
   ```
   这将显示动态库中的符号表，其中包含符号链接信息。

## readelf

+ readelf 是一个命令行工具，用于显示 ELF（Executable and Linkable Format）格式的文件的信息。ELF 是一种常用的二进制文件格式，用于可执行文件、共享库和目标文件。

+ 使用 readelf 命令可以查看和分析 ELF 文件的各种属性和部分内容，包括符号表、节表、段表、动态链接、重定位信息等。它提供了对 ELF 文件结构的详细解析和显示。

+ 以下是一些常用的 readelf 命令示例：

1. 查看 ELF 文件的头部信息：
   ```
   readelf -h executable
   ```

2. 查看 ELF 文件的节表信息：
   ```
   readelf -S executable
   ```

3. 查看 ELF 文件的符号表信息：
   ```
   readelf -s executable
   ```

4. 查看 ELF 文件的动态链接信息：
   ```
   readelf -d executable
   ```

5. 查看 ELF 文件的重定位信息：
   ```
   readelf -r executable
   ```

## 安装readelf

+ readelf 是 binutils 软件包的一部分，它通常预装在大多数 Linux 发行版中。如果你无法使用 readelf 命令，你可以尝试安装 binutils 软件包，以确保 readelf 工具可用。

+ 对于基于 Debian/Ubuntu 的系统，可以使用以下命令安装 binutils：
  ```
  sudo apt-get install binutils
  ```

+ 对于基于 Red Hat/CentOS 的系统，可以使用以下命令安装 binutils：
  ```
  sudo yum install binutils
  ```

+ 安装完成后，你就可以使用 readelf 命令来查看和分析 ELF 文件的信息了。请注意，安装软件包可能需要管理员权限，因此在安装时可能需要使用 sudo 或 root 用户身份运行命令。

+ 如果你的系统已经安装了 binutils 软件包，但仍然无法使用 readelf 命令，可能是因为它不在系统的 PATH 环境变量中。在这种情况下，你可以尝试使用绝对路径来运行 readelf，例如：
  ```
  /usr/bin/readelf -h executable
  ```

根据你的系统配置和安装方式，实际的 readelf 路径可能会有所不同。你可以使用 `which readelf` 命令来查找正确的路径。

这些命令示例只是 readelf 命令的一小部分功能演示，readelf 还提供了其他选项和功能，可以根据需要进行查看和分析 ELF 文件的更多细节。使用 `readelf --help` 命令可以查看 readelf 的完整选项列表和用法说明。

## Linux 常用命令全拼

+ 参考网站：`https://www.runoob.com/w3cnote/linux-command-full-fight.html`

## ldd（list dynamic dependencies）

+ 简介：
  + ldd命令用于打印程序或者库文件所依赖的共享库列表。

+ 语法
  + `ldd [参数] [文件]`

+ 参数
  + -v 详细信息模式，打印所有相关信息 
  + -u 打印未使用的直接依赖 
  + -d 执行重定位和报告任何丢失的对象 
  + -r 执行数据对象和函数的重定位，并且报告任何丢失的对象和函数 
  + --help 显示帮助信息

+ 示例：
```bash 
ldd /path/to/executable
```

+ 注：
  + 当你在终端中运行 ldd 命令并指定一个可执行文件的路径时，它会列出该可执行文件所依赖的共享库。对于每个共享库，它会显示库的路径和版本号。这些共享库是程序在运行时需要的动态链接库，它们提供了程序所需的函数和符号
  + ldd 命令对于诊断程序依赖性问题非常有用。通过查看程序的依赖库列表，你可以确定程序是否缺少某些依赖库或使用了不兼容的库版本
  + 需要注意的是，ldd 命令只能查看程序或共享库的直接依赖库，无法递归地列出所有依赖关系。如果你需要查看所有依赖库，可以使用工具如 readelf 或 objdump 结合脚本来实现

## eog

<!-- + 简介：
  + 使用命令行查看图片

+ 示例：
  + `eog picturepath` -->

+ 简介：
  + eog 是 Linux 系统中的一个命令行工具，用于打开和显示图像文件。它是 Eye of GNOME (EOG) 图像查看器的命令行接口

+ 语法：
```bash 
eog [选项] [图像文件]
```

+ 选项：
  + -f 或 --fullscreen：以全屏模式打开图像。
  + -g 或 --geometry=宽度x高度：指定窗口的初始大小。
  + -n 或 --new-instance：在新的 EOG 实例中打开图像。
  + -w 或 --disable-gallery：禁用图库模式

+ 示例：
```bash 
eog image.jpg
```

+ 注：
  + 当你在终端中运行 eog 命令并指定一个图像文件作为参数时，它会打开 Eye of GNOME (EOG) 图像查看器，并在窗口中显示指定的图像。你可以使用鼠标滚轮来缩放图像，使用工具栏进行放大、缩小、旋转等操作。还可以通过菜单栏中的选项进行图像的保存、打印和设置
  + eog 命令提供了一个快速和方便的方式来查看图像文件，尤其适用于图像的预览和简单的编辑操作。它支持多种常见的图像格式，如 JPEG、PNG、GIF 等
  + 需要注意的是，eog 命令通常用于在图形化环境下打开图像文件。如果你在没有图形界面的终端环境中运行 eog 命令，可能会出现错误或无法正常工作

## watch

+ 简介：
  + watch命令是在Linux环境下，以固定时间间隔观察用户自定义命令运行情况的工具
  + 它暂时清除所有终端内容，并显示所附命令的输出，以及当前系统的日期和时间。
  + 它默认为每2秒更新一次所附命令的输出，`ctrl+c`用于退出
  + 当你需要监控一个命令输出随时间的变化时，watch命令很有用。这包括磁盘使用率、系统正常运行时间或跟踪错误。

+ 语法：
  + `watch [option] [command]`

+ 参数：
  + `[option]`  添加一个选项可以改变观察命令的行为方式
    + -n, --interval  允许你指定输出更新的时间间隔。
    + -d, --differences  突出了输出更新之间的差异。
    + -g, --chgexit  当用户定义的命令的输出发生变化时，退出监视命令
    + -t, --no-title  移除显示时间间隔、命令和当前时间及日期的标题。
    + -b, --beep  如果命令退出时出现错误，则播放声音警报（哔哔声）
    + -p, --precise  试图在-interval选项定义的确切秒数之后运行命令。
    + -e, --errexit  出错时停止输出更新，在按下一个键后退出命令。
    + -c, --color  解释ANSI颜色和样式序列。
    + -x, --exec  将用户定义的命令传递给exec，减少对额外引号的需要。
    + -w, --no-linewrap  关掉换行，截断长行。
    + -h, --help  显示帮助文本并退出
    + -v, --version  显示版本信息并退出

+ 示例
  + `watch -n 5 date`

## 查看linux服务器开机自启动服务

+ 命令：
  + `systemctl list-unit-files`

+ 参数：
  + 其中STATE显示为enable字样的服务，即可开机自启动的服务 

+ 查处的内容过多，可通过grep 命令进行筛选
  + `systemctl list-unit-files | grep firewalld`

## 开启或关闭开机自启动

+ 关闭开机自启动：
  + `systemctl disable  服务name`

+ 开启开机自启动：
  + `systemctl enable  服务name`

## unset

+ 简介：
  - Linux unset命令用于删除变量或函数
  - unset为shell内建指令，可删除变量或函数

+ 语法：
  -  `unset [-fv][变量或函数名称]`

+ 参数：
  - `-f`  仅删除函数
  - `-v`  仅删除变量 

## ln

+ 简介：
  - 它的功能是为某一个文件在另外一个位置建立一个同步的链接
  - 当我们需要在不同的目录，用到相同的文件时，我们不需要在每一个需要的目录下都放一个必须相同的文件，我们只要在某个固定的目录，放上该文件，然后在 其它的目录下用ln命令链接（link）它就可以，不必重复的占用磁盘空间。

+ 语法：
  - `ln [参数][源文件或目录][目标文件或目录]` 

+ 参数的格式为：
  - `[-bdfinsvF] [-S backup-suffix] [-V {numbered,existing,simple}]`
  - `[--help] [--version] [--]`

+ 详解：
  - Linux文件系统中，有所谓的链接(link)，我们可以将其视为档案的别名，而链接又可分为两种 : 硬链接(hard link)与软链接(symbolic link)，硬链接的意思是一个档案可以有多个名称，而软链接的方式则是产生一个特殊的档案，该档案的内容是指向另一个档案的位置。硬链接是存在同一个文件系统中，而软链接却可以跨越不同的文件系统。
  - 不论是硬链接或软链接都不会将原本的档案复制一份，只会占用非常少量的磁碟空间
  - 软链接：
    - 软链接，以路径的形式存在。类似于Windows操作系统中的快捷方式
    - 软链接可以 跨文件系统 ，硬链接不可以
    - 软链接可以对一个不存在的文件名进行链接
    - 软链接可以对目录进行链接
  - 硬链接
    - 硬链接，以文件副本的形式存在。但不占用实际空间。
    - 不允许给目录创建硬链接
    - 硬链接只有在同一个文件系统中才能创建

+ 参数
  + 必要参数
    - `--backup[=CONTROL]` 备份已存在的目标文件
    - `-b` 类似 --backup ，但不接受参数
    - `-d` 允许超级用户制作目录的硬链接
    - `-f` 强制执行
    - `-i` 交互模式，文件存在则提示用户是否覆盖
    - `-n` 把符号链接视为一般目录
    - `-s` 软链接(符号链接)
    - `-v` 显示详细的处理过程
  + 选择参数
    - `-S "-S<字尾备份字符串> "`或 `"--suffix=<字尾备份字符串>"`
    - `-V "-V<备份方式>"`或`"--version-control=<备份方式>"`
    - `--help` 显示帮助信息
    - `--version` 显示版本信息


## getconf

+ 简介：
  - 查询保存系统配置的变量
+ 参数
  - `-a` : 显示所有当前系统的配置变量和变量的值
  - `-v` : 
  - `system_var` : 查询指定配置变量的值
  - `path_var` : 参数是一个通过pathconf命令定义的系统配置变量

## 清空文件内容

+ 通过重定向到 Null 来清空文件内容
  + `> access.log`

+ 使用 ‘true’ 命令重定向来清空文件
  + 下面我们将使用 : 符号，它是 shell 的一个内置命令，等同于 true 命令，它可被用来作为一个 no-op（即不进行任何操作）
  + `: > access.log`
  + `true > access.log`

+ 使用 cat/cp/dd 实用工具及 /dev/null 设备来清空文件
  + 在 Linux 中， null 设备基本上被用来丢弃某个进程不再需要的输出流，或者作为某个输入流的空白文件，这些通常可以利用重定向机制来达到。
  + 所以 /dev/null 设备文件是一个特殊的文件，它将清空送到它这里来的所有输入，而它的输出则可被视为一个空文件。
  + 另外，你可以通过使用 cat 命令 显示 /dev/null 的内容然后重定向输出到某个文件，以此来达到清空该文件的目的。
  + `cat /dev/null > access.log`
+ 下面，我们将使用 cp 命令 复制 /dev/null 的内容到某个文件来达到清空该文件的目的，具体如下所示：
  + `cp /dev/null access.log`
+ 而下面的命令中， if 代表输入文件，of 代表输出文件。
  + `dd if=/dev/null of=access.log`

+ 使用 echo 命令清空文件
  + `echo "" > access.log`
  + `echo > access.log`
+ 注意：你应该记住空字符串并不等同于 null 。字符串表明它是一个具体的事物，只不过它的内容可能是空的，但 null 则意味着某个事物并不存在
+ 基于这个原因，当你将 echo 命令 的输出作为输入重定向到文件后，使用 cat 命令 来查看该文件的内容时，你将看到一个空白行（即一个空字符串）
+ 要将 null 做为输出输入到文件中，你应该使用 -n 选项，这个选项将告诉 echo 不再像上面的那个命令那样输出结尾的那个新行。

+ 使用 truncate 命令来清空文件内容
  + truncate 可被用来将一个文件缩小或者扩展到某个给定的大小
  + 你可以利用它和 -s 参数来特别指定文件的大小。要清空文件的内容，则在下面的命令中将文件的大小设定为 0:
    + `truncate -s 0 access.log`

## fstab

`fstab`（文件系统表）是一个Linux系统配置文件，用于定义系统在启动时挂载文件系统的方式和规则。它通常位于`/etc/fstab`路径下，由系统管理员进行编辑和管理。

`fstab`文件中的每一行表示一个要挂载的文件系统，每个字段之间用空格或制表符分隔。以下是`fstab`文件的常用字段和说明：

```plaintext
<文件系统>  <挂载点>  <文件系统类型>  <挂载选项>  <dump>  <pass>
```

- `<文件系统>`：要挂载的设备或网络位置。可以是设备名称（如`/dev/sda1`）、UUID（Universally Unique Identifier）、标签（Label）或网络位置（如`//server/share`）。
- `<挂载点>`：设备将被挂载到的目录路径。
- `<文件系统类型>`：设备的文件系统类型，如`ext4`、`ntfs`、`nfs`等。
- `<挂载选项>`：指定挂载设备时的选项，如`ro`（只读）、`rw`（读写）、`noauto`（不自动挂载）、`user`（允许普通用户挂载）等。
- `<dump>`：备份标志。如果设置为`0`，表示不会被备份；如果设置为`1`，表示会被备份。
- `<pass>`：检查顺序。用于`fsck`命令检查文件系统的顺序。如果设置为`0`，表示不会被检查。

示例`fstab`文件条目：

```plaintext
/dev/sda1   /mnt/data   ext4   defaults   0   2
//server/share   /mnt/nfs   nfs   defaults   0   0
```

上述示例中，第一行表示将`/dev/sda1`设备挂载到`/mnt/data`目录，使用`ext4`文件系统和默认挂载选项。`dump`设置为`0`，`pass`设置为`2`。第二行表示将网络位置`//server/share`挂载到`/mnt/nfs`目录，使用NFS文件系统和默认挂载选项，不进行备份和检查。

要编辑`fstab`文件，请使用具有管理员权限的文本编辑器，例如`vi`或`nano`。请谨慎编辑`fstab`文件，确保提供正确的设备和挂载选项，以免影响系统的正常启动和文件系统的挂载。

---

## mffs.ext4

`mkfs.ext4`是一个Linux命令，用于创建ext4文件系统（第四个扩展文件系统）在指定的设备上。

以下是`mkfs.ext4`命令的常用选项和用法：

```bash
mkfs.ext4 [options] <device>
```

常用选项：

- `-b block-size`：指定文件系统的块大小，默认为4096字节。
- `-L volume-label`：为文件系统设置卷标。
- `-m reserved-blocks-percentage`：指定保留块的百分比，用于系统管理员。
- `-T usage-type`：设置文件系统的用途类型，如`news`, `backup`, `web`, 等。
- `-O feature`：启用指定的文件系统特性，如`^has_journal`表示不使用日志功能。
- `-E extended-option`：设置扩展选项，如`stride`, `stripe-width`, `nodiscard`, 等。

示例用法：

1. 创建ext4文件系统：

```bash
mkfs.ext4 /dev/sdb1
```

上述命令将在设备`/dev/sdb1`上创建一个ext4文件系统，默认使用4096字节的块大小。

2. 创建具有指定块大小的ext4文件系统：

```bash
mkfs.ext4 -b 8192 /dev/sdb1
```

上述命令将在设备`/dev/sdb1`上创建一个ext4文件系统，并指定块大小为8192字节。

3. 为ext4文件系统设置卷标：

```bash
mkfs.ext4 -L MyVolume /dev/sdb1
```

上述命令将在设备`/dev/sdb1`上创建一个ext4文件系统，并设置卷标为"MyVolume"。

4. 启用特定的文件系统特性：

```bash
mkfs.ext4 -O ^has_journal /dev/sdb1
```

上述命令将在设备`/dev/sdb1`上创建一个ext4文件系统，并禁用日志功能。

`mkfs.ext4`命令用于创建ext4文件系统之前，请确保已经正确地指定了要创建文件系统的设备。创建文件系统将格式化该设备并擦除其上的所有数据，请谨慎操作。

---

## Linux下视频剪辑，录制工具

+ kazam 
  - 录制屏幕：`apt-get install -y kazam`
  - 缺点：保存的视频，在vlc打开看不到视频，传到手机剪影也不能剪辑

+ openshot
  - `apt-get install -y openshot-qt`
  - 和pr相似

+ **simplescreenrecorder**
  - 录制屏幕：`apt-get install -y simplescreenrecorder`
  - 优点：相比于kazam，其录制的视频，容量小，vlc支持播放

---

## 屏保命令和锁屏命令

+ `gnome-screensaver-command -a`  --  显示屏保但是不锁定，移动鼠标或敲击键盘后自动消失

+ `gnome-screensaver-command -l`  --  显示屏保并锁定，移动鼠标或敲击键盘弹出密码框

+ `sudo loginctl list-sessions`   -- 列出当前所有的会话（默认命令）

+ `sudo loginctl lock-session [ID]`   -- 锁定指定会话（如果会话支持屏幕锁）或者当前调用者的会话

+ `sudo loginctl unlock-session [ID]` -- 解锁指定会话（如果会话支持屏幕锁）或者当前调用者的会话

+ `sudo loginctl lock-sessions`  --  锁定全部会话

+ `sudo loginctl unlock-sessions` -- 解锁全部会话

+ ubuntu18 锁屏快捷键  --  `Super + L`

---

## fdisk

`fdisk`是一个Linux命令行工具，用于对磁盘分区进行管理和操作。它可以创建、删除、调整磁盘分区以及显示磁盘分区信息。

以下是`fdisk`命令的常用选项和用法：

```bash
fdisk [options] <device>
```

常用选项：

- `-l`：列出指定设备或所有设备的分区表信息。
- `-s`：显示指定设备或所有设备的分区大小。
- `-u`：以扇区而不是柱面为单位显示分区信息。
- `-c`：与`-l`选项一起使用时，使用紧凑的格式显示分区表信息。
- `-p`：与`-l`选项一起使用时，使用可打印的格式显示分区表信息。
- `-n`：创建一个新的分区。
- `-d`：删除一个分区。
- `-t`：更改分区的类型。

示例用法：

1. 列出所有设备的分区表信息：

```bash
fdisk -l
```

上述命令将列出所有设备的分区表信息，包括设备名称、分区大小、分区类型等。

2. 列出指定设备的分区表信息：

```bash
fdisk -l /dev/sda
```

上述命令将列出设备`/dev/sda`的分区表信息。

3. 创建新的分区：

```bash
fdisk /dev/sdb
```

上述命令将打开设备`/dev/sdb`的分区表，并引导您通过一系列的交互式步骤来创建新的分区。

4. 删除分区：

```bash
fdisk /dev/sdc
Command (m for help): d
Partition number (1-4): 1
```

上述命令将打开设备`/dev/sdc`的分区表，并提示您输入要删除的分区号。

5. 更改分区类型：

```bash
fdisk /dev/sdd
Command (m for help): t
Partition number (1-4): 1
Hex code (type L to list codes): 83
```

上述命令将打开设备`/dev/sdd`的分区表，并提示您输入要更改的分区号和新的分区类型。

`fdisk`命令涉及对磁盘分区进行操作，因此需要以root权限运行。请谨慎操作，以免对系统造成损害。

---

## iostat

`iostat`是一个Linux命令，用于报告和存档系统磁盘IO活动的统计信息。它可以提供有关磁盘读写速度、IO等待时间、IO请求队列长度以及CPU利用率的信息。

以下是`iostat`命令的常用选项和用法：

```bash
iostat [options] [interval] [count]
```

常用选项：

- `-c`：仅显示CPU利用率统计。
- `-d`：仅显示磁盘IO统计。
- `-k`：以KB为单位显示统计信息。
- `-m`：以MB为单位显示统计信息。
- `-x`：显示详细的磁盘IO统计，包括每个设备的读写速度、IO等待时间、IO请求队列长度等。
- `-t`：在每一行的输出中显示时间戳。
- `-y`：在每一行的输出中显示日期和时间。
- `-h`：显示帮助信息。

示例用法：

1. 显示磁盘IO统计信息：

```bash
iostat
```

上述命令将显示所有磁盘设备的读写速度、IO等待时间和IO请求队列长度。

2. 以1秒的间隔连续显示磁盘IO统计信息，共显示5次：

```bash
iostat 1 5
```

上述命令将每秒显示一次磁盘IO统计信息，连续显示5次。

3. 仅显示CPU利用率统计信息：

```bash
iostat -c
```

上述命令将仅显示CPU的利用率统计信息。

4. 显示详细的磁盘IO统计信息：

```bash
iostat -x
```

上述命令将显示详细的磁盘IO统计信息，包括每个设备的读写速度、IO等待时间、IO请求队列长度等。

`iostat`命令还支持其他选项和用法，您可以通过`man iostat`命令查看完整的帮助文档和更多示例。

---

## sysstat

`sysstat`是一个性能监控工具集，它提供了一系列的命令行工具，用于收集和分析系统的性能数据。这些工具可以帮助您监视系统的资源利用率、性能瓶颈和运行状况。

`sysstat`包括以下常用命令：

1. `sar`：用于收集、报告和存档系统活动信息，包括CPU利用率、内存使用、磁盘IO、网络流量等。示例用法：`sar -u`显示CPU利用率，`sar -r`显示内存使用情况，`sar -d`显示磁盘IO统计。

2. `iostat`：用于报告和存档系统磁盘IO活动的统计信息，包括每个磁盘的读写速度、IO等待时间、IO请求队列长度等。示例用法：`iostat -x`显示详细的磁盘IO统计。

3. `mpstat`：用于报告和存档每个CPU的利用率和其他统计信息，包括用户时间、系统时间、空闲时间等。示例用法：`mpstat -P ALL`显示每个CPU的利用率。

4. `pidstat`：用于报告和存档进程的CPU利用率、内存使用和IO统计。示例用法：`pidstat -p <pid>`显示特定进程的统计信息。

5. `ifstat`：用于报告和存档网络接口的流量统计，包括接收和发送的数据量。示例用法：`ifstat -a`显示所有网络接口的流量统计。

这些命令都是通过收集系统性能数据并以可读的格式进行报告。您可以根据具体需求选择适合的命令，并结合不同的选项来获取所需的性能信息。

`sysstat`工具集在大多数Linux发行版中都可用，但需要先安装。您可以使用包管理器（如apt、yum等）来安装`sysstat`软件包。

---

## tmux 

`tmux`是一个在Linux和Unix系统上运行的终端复用器。它允许用户在单个终端窗口中创建多个会话，并在这些会话之间进行切换。每个会话可以拥有多个窗格，用户可以同时在这些窗格中运行不同的命令和程序。

以下是`tmux`命令的常用选项和用法：

```bash
tmux [options]
```

常用快捷键：

- `Ctrl-b c`：创建一个新窗口。
- `Ctrl-b n`：切换到下一个窗口。
- `Ctrl-b p`：切换到上一个窗口。
- `Ctrl-b l`：切换到上一个使用的窗口。
- `Ctrl-b 0-9`：切换到指定编号的窗口。
- `Ctrl-b %`：在当前窗口中垂直分割一个新窗格。
- `Ctrl-b "`：在当前窗口中水平分割一个新窗格。
- `Ctrl-b o`：切换到下一个窗格。
- `Ctrl-b q`：显示窗格编号。
- `Ctrl-b d`：分离当前会话。
- `Ctrl-b s`：显示当前会话的窗口列表。
- `Ctrl-b $`：重命名当前会话。
- `Ctrl-b [箭头键]`：在窗格之间进行滚动。

示例用法：

1. 启动一个新的`tmux`会话：

```bash
tmux
```

2. 创建一个新的窗口：

按下`Ctrl-b c`快捷键。

3. 切换到下一个窗口：

按下`Ctrl-b n`快捷键。

4. 在当前窗口中垂直分割一个新窗格：

按下`Ctrl-b %`快捷键。

5. 在当前窗口中水平分割一个新窗格：

按下`Ctrl-b "`快捷键。

6. 切换到下一个窗格：

按下`Ctrl-b o`快捷键。

7. 分离当前会话：

按下`Ctrl-b d`快捷键。

8. 恢复之前的`tmux`会话：

```bash
tmux attach
```

`tmux`命令还支持其他选项和用法，可以根据具体的需求进行调整。您可以通过`man tmux`命令查看`tmux`命令的完整帮助文档和更多用法示例。

---

## dmesg

`dmesg`是一个Linux命令，用于显示内核环缓冲区的内容。它可以提供有关系统启动期间发生的事件、硬件故障、驱动程序加载和其他内核消息的详细信息。

以下是`dmesg`命令的常用选项和用法：

```bash
dmesg [options]
```

常用选项：

- `-c, --clear`：清除内核环缓冲区的内容。
- `-s, --buffer-size=size`：设置内核环缓冲区的大小。
- `-n, --console-level=level`：设置在控制台上显示的内核消息的级别。
- `-r, --raw`：以原始格式显示内核消息，不进行解析。
- `-T, --ctime`：以人类可读的日期和时间格式显示内核消息的时间戳。
- `--color[=when]`：设置输出中的颜色。
- `-h, --help`：显示帮助信息。

示例用法：

1. 显示内核环缓冲区的内容：

```bash
dmesg
```

上述命令将显示内核环缓冲区中的所有消息。

2. 清除内核环缓冲区的内容：

```bash
dmesg -c
```

上述命令将清除内核环缓冲区的内容。

3. 以人类可读的日期和时间格式显示内核消息：

```bash
dmesg -T
```

上述命令将以人类可读的日期和时间格式显示内核消息的时间戳。

4. 设置内核消息的显示级别：

```bash
dmesg -n 4
```

上述命令将仅显示级别为4（警告级别）及以上的内核消息。

`dmesg`命令还支持其他选项和用法，您可以通过`man dmesg`命令查看完整的帮助文档和更多示例。

---

## date

`date`是Linux系统中用于显示和设置系统日期和时间的命令。它还可以格式化日期和时间以满足特定的需求。

以下是`date`命令的常用选项和用法：

```bash
date [options] [+format]
```

常用选项：

- `-d, --date=STRING`：使用指定的日期和时间字符串进行操作，而不是当前日期和时间。
- `-u, --utc, --universal`：使用协调世界时（UTC）进行操作，而不是本地时间。
- `--rfc-3339=TIMESPEC`：使用RFC 3339格式显示日期和时间。
- `--iso-8601[=TIMESPEC]`：使用ISO 8601格式显示日期和时间。
- `-R, --rfc-2822`：使用RFC 2822格式显示日期和时间。
- `--help`：显示帮助信息。

格式化选项（常用的格式化选项）：

- `%Y`：四位数的年份（例如：2023）。
- `%y`：两位数的年份（例如：23）。
- `%m`：两位数的月份（例如：06）。
- `%d`：两位数的日期（例如：09）。
- `%H`：两位数的小时（24小时制）（例如：15）。
- `%M`：两位数的分钟（例如：30）。
- `%S`：两位数的秒钟（例如：45）。
- `%A`：完整的星期几名称（例如：Sunday）。
- `%a`：缩写的星期几名称（例如：Sun）。
- `%B`：完整的月份名称（例如：June）。
- `%b`：缩写的月份名称（例如：Jun）。
- `%Z`：时区名称（例如：PST）。
- `%z`：时区偏移量（例如：-0800）。

示例用法：

1. 显示当前日期和时间：

```bash
date
```

2. 显示当前日期（年、月、日）：

```bash
date +%Y-%m-%d
```

3. 显示当前时间（小时、分钟、秒）：

```bash
date +%H:%M:%S
```

4. 根据指定格式显示日期和时间：

```bash
date +"%Y-%m-%d %H:%M:%S"
```

5. 显示当前时间的UNIX时间戳：

```bash
date +%s
```

`date`命令还支持其他选项和格式化标记，可以根据具体的需求进行调整。您可以通过`man date`命令查看`date`命令的完整帮助文档和更多用法示例。

---

## pgrep 

`pgrep`是一个在Linux系统中用于根据进程名或其他条件查找进程ID（PID）的命令。它可以根据给定的进程名、用户、进程组、终端等条件进行匹配，然后返回符合条件的进程ID。

以下是`pgrep`命令的常用选项和用法：

```bash
pgrep [options] pattern
```

常用选项：

- `-u, --euid euid`：根据有效用户ID查找进程。
- `-U, --uid uid`：根据实际用户ID查找进程。
- `-g, --gid gid`：根据进程组ID查找进程。
- `-t, --terminal terminal`：根据终端设备号查找进程。
- `-x, --exact`：精确匹配进程名，不进行模糊匹配。
- `-f, --full`：匹配进程的完整命令行。
- `-a, --list-full`：显示完整的进程信息，包括进程名和命令行。
- `-l, --list-name`：显示进程名和PID，类似于`ps`命令的输出。

示例用法：

1. 根据进程名查找进程ID：

```bash
pgrep nginx
```

上述命令将返回所有进程名包含"nginx"的进程ID。

2. 根据用户ID查找进程ID：

```bash
pgrep -u 1000
```

上述命令将返回用户ID为1000的所有进程ID。

3. 显示完整的进程信息：

```bash
pgrep -a nginx
```

上述命令将显示所有进程名包含"nginx"的进程信息，包括进程名和命令行。

`pgrep`命令还支持其他选项和用法，可以通过`man pgrep`命令查看详细的帮助文档。

## ps

+ ps命令用于报告当前系统的进程状态，可以搭配kill指令随时中断，删除不必要的程序。
+ ps明星是最基本的同时也是非常强大的进程查看命令，使用该命令可以确定有哪些进程正在运行和运行的状态，进程是否结束，进程有没有僵死，哪些进程占用了过多的资源等等
+ 参数
  + `a` : 显示当前终端下的所有进程信息，包括其他用户的进程
  + `u` : 使用以用户为主的格式输出进程信息
  + `x` : 显示当前用户在所有终端下的进程
+ 字段解释
  + `USER` : 启动该进程的用户账号名称
  + `PID`  : 该进程的ID号,在当前系统中是唯一的
  + `%CPU` : CPU占用的百分比
  + `%MEM` : 内存占用的百分比
  + `VSZ`  : 占用虚拟内存(swap空间)的大小
  + `RSS`  : 占用常驻内存(物理内存)的大小
  + `TTY`  : 该进程在哪个终端上运行. `"?"`表示未知或不需要终端
  + `STAT` : 显示了进程当前的状态
    + `S , interruptible sleep (waiting for an event to complete` : 休眠
    + `R , running or runnable (on run queue)` : 运行
    + `Z , defunct("zombie") process, terminated but not reaped by its parent` : 僵死, 对于僵死状态的进程应该手动终止
    + `< , high-priority (not nice to other users)` : 高优先级
    + `N , low-priority (nice to other users)` : 低优先级
    + `s , is a session leader` : 父进程
    + `+ , is in the foreground process group` : 前台进程
    + `l , is multi-threaded(using CLONE_THREAD, like NPTL pthreads do)`:多线程
  + `START`: 启动该进程的时间
  + `TIME` : 该进程占用CPU的时间
  + `COMMAND`: 启动该进程的命令的名称
+ 参数
  + `e` : 显示系统内的所有进程信息
  + `l` : 使用长(long)格式显示进程信息
  + `f` : 使用完整的(full)格式显示进程信息

## top

+ 简介：
  + top, 以全屏交互式的界面显示进程排名,及时跟踪包括CPU,内存等系统资源占用情况,默认情况下每三秒刷新一次,其作用基本类似于Windows系统中的任务管理器
  + top命令，是Linux下常用的性能分析工具，能够实时显示系统中各个进程的资源占用状况，常用于服务端性能分析。
  + top命令，可以实时动态地查看系统的整体运行情况，是一个综合了多方信息监测系统性能和运行信息的实用工具。通过top命令所提供的互动式界面，用热键可以管理。
  + 在top命令中按f按可以查看显示的列信息，按对应字母来开启/关闭列，大写字母表示开启，小写字母表示关闭。带*号的是默认列。

+ 语法
  + top(选项)

+ 选项
  + -b：以批处理模式操作；
  + -c：显示完整的治命令；
  + -d：屏幕刷新间隔时间；
  + -I：忽略失效过程；
  + -s：保密模式；
  + -S：累积模式；
  + -i<时间>：设置间隔时间；
  + -u<用户名>：指定用户名；
  + -p<进程号>：指定进程；
  + -n<次数>：循环显示的次数。

+ top交互命令：在top命令执行过程中可以使用的一些交互命令。这些命令都是单字母的，如果在命令行中使用了-s选项， 其中一些命令可能会被屏蔽。
  + h：显示帮助画面，给出一些简短的命令总结说明；
  + k：终止一个进程；
  + i：忽略闲置和僵死进程，这是一个开关式命令；
  + q：退出程序；
  + r：重新安排一个进程的优先级别；
  + S：切换到累计模式；
  + s：改变两次刷新之间的延迟时间（单位为s），如果有小数，就换算成ms。输入0值则系统将不断刷新，默认值是5s；
  + f或者F：从当前显示中添加或者删除项目；
  + o或者O：改变显示项目的顺序；
  + l：切换显示平均负载和启动时间信息；
  + m：切换显示内存信息；
  + t：切换显示进程和CPU状态信息；
  + c：切换显示命令名称和完整命令行；
  + M：根据驻留内存大小进行排序；
  + P：根据CPU使用百分比大小进行排序；
  + T：根据时间/累计时间进行排序；
  + w：将当前设置写入~/.toprc文件中。

+ 实例
  ```
    top - 09:44:56 up 16 days, 21:23,  1 user,  load average: 9.59, 4.75, 1.92
    Tasks: 145 total,   2 running, 143 sleeping,   0 stopped,   0 zombie
    Cpu(s): 99.8%us,  0.1%sy,  0.0%ni,  0.2%id,  0.0%wa,  0.0%hi,  0.0%si,  0.0%st
    Mem:   4147888k total,  2493092k used,  1654796k free,   158188k buffers
    Swap:  5144568k total,       56k used,  5144512k free,  2013180k cache
  ``` 
+ 解释
  + top - 09:44:56[当前系统时间],
  + 16 days[系统已经运行了16天],
  + 1 user[个用户当前登录],
  + load average: 9.59, 4.75, 1.92[系统负载，即任务队列的平均长度]
  + Tasks: 145 total[总进程数],
  + 2 running[正在运行的进程数],
  + 143 sleeping[睡眠的进程数],
  + 0 stopped[停止的进程数],
  + 0 zombie[冻结进程数],
  + Cpu(s): 99.8%us[用户空间占用CPU百分比],
  + 0.1%sy[内核空间占用CPU百分比],
  + 0.0%ni[用户进程空间内改变过优先级的进程占用CPU百分比],
  + 0.2%id[空闲CPU百分比], 0.0%wa[等待输入输出的CPU时间百分比],
  + 0.0%hi[],
  + 0.0%st[],
  + Mem: 4147888k total[物理内存总量],
  + 2493092k used[使用的物理内存总量],
  + 1654796k free[空闲内存总量],
  + 158188k buffers[用作内核缓存的内存量]
  + Swap:  5144568k total[交换区总量],
  + 56k used[使用的交换区总量],
  + 5144512k free[空闲交换区总量],
  + 2013180k cached[缓冲的交换区总量],

+ 字段解释:
  + `Tasks` : 系统任务信息
  + `total` : 总进程数
  + `running` : 正在运行的进程数
  + `sleeping` : 休眠的进程数
  + `stopped`  : 终止的进程数
  + `zombie`  : 僵死无响应的进程数

+ 常用命令
  + `top ` 回车之后再输入c，会显示进程详细信息
  + `top -p pid`， 查看指定进程ID的动态资源

+ 在 top 命令中，你可以使用以下快捷键来修改显示的单位：
  - 按下 "e" 键：切换内存显示单位，可以在字节（Bytes）、千字节（KBytes）、兆字节（MBytes）和吉字节（GBytes）之间进行切换。
  - 按下 "E" 键：切换内存和交换空间显示单位，与 "e" 键类似，但同时会修改交换空间的显示单位。
  - 按下 "k" 键：切换 CPU 使用率的显示单位，可以在百分比（%）、千分比（m%）和百万分比（M%）之间进行切换。
  - 按下 "K" 键：切换 CPU 时间的显示单位，可以在秒（s）、毫秒（ms）和微秒（us）之间进行切换。
+ 在 top 命令中按下相应的键后，单位会相应地进行切换，并且在顶部的标题行中会显示当前的单位。你可以根据需要选择合适的单位来查看系统资源的使用情况。

## pstree

+ pstree,以树状图的方式展现进程之间的派生关系,显示效果比较直观
+ 参数
  + `a` : 显示每个程序的完整指令,包含路径,参数或者是常驻服务的标示
  + `c` : 不使用精简表示法
  + `G` : 使用VT100终端机的列绘图字符
  + `n` : 用程序识别码排序,预设是以程序名称来排序
  + `p` : 显示程序识别码
  + `u` : 显示用户名称

## ss --  查看端口状态信息

+ 简介：
  + ss 是一个 Linux 下用于查看套接字统计信息的命令。它提供了比 netstat 更全面和高效的功能

+ 语法
```bash
ss [options]
```

+ 选项：
  + -t: 显示 TCP 套接字信息。
  + -u: 显示 UDP 套接字信息。
  + -w: 显示 RAW 套接字信息。
  + -a: 显示所有套接字信息，包括监听和非监听状态。
  + -s: 显示套接字统计信息，包括每个协议的统计数据。
  + -p: 显示与套接字关联的进程信息。
  + -n: 不进行服务名称解析，显示 IP 地址和端口号。
  + -r: 显示路由表信息。
  + -l: 仅显示监听状态的套接字。
  + -o: 显示计时器信息

+ 详解：
  + 使用 ss 命令时，可以结合不同的选项来获取特定类型的套接字信息。例如，ss -t 显示所有 TCP 套接字信息，ss -u 显示所有 UDP 套接字信息，ss -l 显示所有监听状态的套接字信息
  + ss 命令的输出包括以下列
    + State: 套接字的状态，如 ESTABLISHED（已建立）、LISTEN（监听）等。
    + Recv-Q: 接收队列的字节数。
    + Send-Q: 发送队列的字节数。
    + Local Address: 本地 IP 地址和端口号。
    + Peer Address: 对端 IP 地址和端口号。
    + Process（-p 选项时显示）: 与套接字关联的进程信息

+ 注：
  + 通过 ss 命令，可以查看网络连接状态、套接字使用情况、进程与套接字的关联信息等。它在排查网络问题、监视网络连接和调试网络应用程序时非常有用
  + 安装 iproute2 软件包：ss 命令是 iproute2 软件包的一部分，因此需要安装该软件包

<!-- + 参数：
  + `-l, --listening`  --  仅显示被监听的套接字
  + `-s, --summary`  -- 打印概括的状态信息
  + `-p, --processes`  --  显示使用套接字的进程
  + `-i, --info`     --  显示TCP内部详细的信息
  + `-t, --tcp`      --  显示TCP套接字
  + `-n, --numeric`  --  显示数值，不显示服务名字 -->

## 杀死指定进程

+ `kill -9 process_pid`
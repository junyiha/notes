## ps

+ ps命令用于报告当前系统的进程状态，可以搭配kill指令随时中断，删除不必要的程序。
+ ps明星是最基本的同时也是非常强大的进程查看命令，使用该命令可以确定有哪些进程正在运行和运行的状态，进程是否结束，进程有没有僵死，哪些进程占用了过多的资源等等
+ 参数
  + `a` : 显示当前终端下的所有进程信息，包括其他用户的进程
  + `u` : 使用以用户为主的格式输出进程信息
  + `x` : 显示当前用户在所有终端下的进程
+ 字段解释
  + `USER` : 启动该进程的用户账号名称
  + `PID`  : 该进程的ID号,在当前系统中是唯一的
  + `%CPU` : CPU占用的百分比
  + `%MEM` : 内存占用的百分比
  + `VSZ`  : 占用虚拟内存(swap空间)的大小
  + `RSS`  : 占用常驻内存(物理内存)的大小
  + `TTY`  : 该进程在哪个终端上运行. `"?"`表示未知或不需要终端
  + `STAT` : 显示了进程当前的状态
    + `S , interruptible sleep (waiting for an event to complete` : 休眠
    + `R , running or runnable (on run queue)` : 运行
    + `Z , defunct("zombie") process, terminated but not reaped by its parent` : 僵死, 对于僵死状态的进程应该手动终止
    + `< , high-priority (not nice to other users)` : 高优先级
    + `N , low-priority (nice to other users)` : 低优先级
    + `s , is a session leader` : 父进程
    + `+ , is in the foreground process group` : 前台进程
    + `l , is multi-threaded(using CLONE_THREAD, like NPTL pthreads do)`:多线程
  + `START`: 启动该进程的时间
  + `TIME` : 该进程占用CPU的时间
  + `COMMAND`: 启动该进程的命令的名称
+ 参数
  + `e` : 显示系统内的所有进程信息
  + `l` : 使用长(long)格式显示进程信息
  + `f` : 使用完整的(full)格式显示进程信息

## top

+ 简介：
  + top, 以全屏交互式的界面显示进程排名,及时跟踪包括CPU,内存等系统资源占用情况,默认情况下每三秒刷新一次,其作用基本类似于Windows系统中的任务管理器
  + top命令，是Linux下常用的性能分析工具，能够实时显示系统中各个进程的资源占用状况，常用于服务端性能分析。
  + top命令，可以实时动态地查看系统的整体运行情况，是一个综合了多方信息监测系统性能和运行信息的实用工具。通过top命令所提供的互动式界面，用热键可以管理。
  + 在top命令中按f按可以查看显示的列信息，按对应字母来开启/关闭列，大写字母表示开启，小写字母表示关闭。带*号的是默认列。

+ 语法
  + top(选项)

+ 选项
  + -b：以批处理模式操作；
  + -c：显示完整的治命令；
  + -d：屏幕刷新间隔时间；
  + -I：忽略失效过程；
  + -s：保密模式；
  + -S：累积模式；
  + -i<时间>：设置间隔时间；
  + -u<用户名>：指定用户名；
  + -p<进程号>：指定进程；
  + -n<次数>：循环显示的次数。

+ top交互命令：在top命令执行过程中可以使用的一些交互命令。这些命令都是单字母的，如果在命令行中使用了-s选项， 其中一些命令可能会被屏蔽。
  + h：显示帮助画面，给出一些简短的命令总结说明；
  + k：终止一个进程；
  + i：忽略闲置和僵死进程，这是一个开关式命令；
  + q：退出程序；
  + r：重新安排一个进程的优先级别；
  + S：切换到累计模式；
  + s：改变两次刷新之间的延迟时间（单位为s），如果有小数，就换算成ms。输入0值则系统将不断刷新，默认值是5s；
  + f或者F：从当前显示中添加或者删除项目；
  + o或者O：改变显示项目的顺序；
  + l：切换显示平均负载和启动时间信息；
  + m：切换显示内存信息；
  + t：切换显示进程和CPU状态信息；
  + c：切换显示命令名称和完整命令行；
  + M：根据驻留内存大小进行排序；
  + P：根据CPU使用百分比大小进行排序；
  + T：根据时间/累计时间进行排序；
  + w：将当前设置写入~/.toprc文件中。

+ 实例
  ```
    top - 09:44:56 up 16 days, 21:23,  1 user,  load average: 9.59, 4.75, 1.92
    Tasks: 145 total,   2 running, 143 sleeping,   0 stopped,   0 zombie
    Cpu(s): 99.8%us,  0.1%sy,  0.0%ni,  0.2%id,  0.0%wa,  0.0%hi,  0.0%si,  0.0%st
    Mem:   4147888k total,  2493092k used,  1654796k free,   158188k buffers
    Swap:  5144568k total,       56k used,  5144512k free,  2013180k cache
  ``` 
+ 解释
  + top - 09:44:56[当前系统时间],
  + 16 days[系统已经运行了16天],
  + 1 user[个用户当前登录],
  + load average: 9.59, 4.75, 1.92[系统负载，即任务队列的平均长度]
  + Tasks: 145 total[总进程数],
  + 2 running[正在运行的进程数],
  + 143 sleeping[睡眠的进程数],
  + 0 stopped[停止的进程数],
  + 0 zombie[冻结进程数],
  + Cpu(s): 99.8%us[用户空间占用CPU百分比],
  + 0.1%sy[内核空间占用CPU百分比],
  + 0.0%ni[用户进程空间内改变过优先级的进程占用CPU百分比],
  + 0.2%id[空闲CPU百分比], 0.0%wa[等待输入输出的CPU时间百分比],
  + 0.0%hi[],
  + 0.0%st[],
  + Mem: 4147888k total[物理内存总量],
  + 2493092k used[使用的物理内存总量],
  + 1654796k free[空闲内存总量],
  + 158188k buffers[用作内核缓存的内存量]
  + Swap:  5144568k total[交换区总量],
  + 56k used[使用的交换区总量],
  + 5144512k free[空闲交换区总量],
  + 2013180k cached[缓冲的交换区总量],

+ 字段解释:
  + `Tasks` : 系统任务信息
  + `total` : 总进程数
  + `running` : 正在运行的进程数
  + `sleeping` : 休眠的进程数
  + `stopped`  : 终止的进程数
  + `zombie`  : 僵死无响应的进程数

+ 常用命令
  + `top ` 回车之后再输入c，会显示进程详细信息
  + `top -p pid`， 查看指定进程ID的动态资源

+ 在 top 命令中，你可以使用以下快捷键来修改显示的单位：
  - 按下 "e" 键：切换内存显示单位，可以在字节（Bytes）、千字节（KBytes）、兆字节（MBytes）和吉字节（GBytes）之间进行切换。
  - 按下 "E" 键：切换内存和交换空间显示单位，与 "e" 键类似，但同时会修改交换空间的显示单位。
  - 按下 "k" 键：切换 CPU 使用率的显示单位，可以在百分比（%）、千分比（m%）和百万分比（M%）之间进行切换。
  - 按下 "K" 键：切换 CPU 时间的显示单位，可以在秒（s）、毫秒（ms）和微秒（us）之间进行切换。
+ 在 top 命令中按下相应的键后，单位会相应地进行切换，并且在顶部的标题行中会显示当前的单位。你可以根据需要选择合适的单位来查看系统资源的使用情况。

## pstree

+ pstree,以树状图的方式展现进程之间的派生关系,显示效果比较直观
+ 参数
  + `a` : 显示每个程序的完整指令,包含路径,参数或者是常驻服务的标示
  + `c` : 不使用精简表示法
  + `G` : 使用VT100终端机的列绘图字符
  + `n` : 用程序识别码排序,预设是以程序名称来排序
  + `p` : 显示程序识别码
  + `u` : 显示用户名称

## ss --  查看端口状态信息

+ 简介：
  + ss 是一个 Linux 下用于查看套接字统计信息的命令。它提供了比 netstat 更全面和高效的功能

+ 语法
```bash
ss [options]
```

+ 选项：
  + -t: 显示 TCP 套接字信息。
  + -u: 显示 UDP 套接字信息。
  + -w: 显示 RAW 套接字信息。
  + -a: 显示所有套接字信息，包括监听和非监听状态。
  + -s: 显示套接字统计信息，包括每个协议的统计数据。
  + -p: 显示与套接字关联的进程信息。
  + -n: 不进行服务名称解析，显示 IP 地址和端口号。
  + -r: 显示路由表信息。
  + -l: 仅显示监听状态的套接字。
  + -o: 显示计时器信息

+ 详解：
  + 使用 ss 命令时，可以结合不同的选项来获取特定类型的套接字信息。例如，ss -t 显示所有 TCP 套接字信息，ss -u 显示所有 UDP 套接字信息，ss -l 显示所有监听状态的套接字信息
  + ss 命令的输出包括以下列
    + State: 套接字的状态，如 ESTABLISHED（已建立）、LISTEN（监听）等。
    + Recv-Q: 接收队列的字节数。
    + Send-Q: 发送队列的字节数。
    + Local Address: 本地 IP 地址和端口号。
    + Peer Address: 对端 IP 地址和端口号。
    + Process（-p 选项时显示）: 与套接字关联的进程信息

+ 注：
  + 通过 ss 命令，可以查看网络连接状态、套接字使用情况、进程与套接字的关联信息等。它在排查网络问题、监视网络连接和调试网络应用程序时非常有用
  + 安装 iproute2 软件包：ss 命令是 iproute2 软件包的一部分，因此需要安装该软件包

<!-- + 参数：
  + `-l, --listening`  --  仅显示被监听的套接字
  + `-s, --summary`  -- 打印概括的状态信息
  + `-p, --processes`  --  显示使用套接字的进程
  + `-i, --info`     --  显示TCP内部详细的信息
  + `-t, --tcp`      --  显示TCP套接字
  + `-n, --numeric`  --  显示数值，不显示服务名字 -->

## 杀死指定进程

+ `kill -9 process_pid`
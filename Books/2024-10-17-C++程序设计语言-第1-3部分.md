---
category: Books
date: 2024-10-17 09:00:00 +0800
last_modified_date: 2024-10-17 10:00:00 +0800
layout: post
title: C++程序设计语言 第1-3部分
tag: book
---
# 第一章 致读者

## 1.1 本书结构

+ 纯粹的入门教材通常会这样组织其内容--所有概念都先回介绍再应用，因此必须从第一页开始顺序阅读。与之相反，纯粹的参考手册则可以从任何地方开始查阅，因为每个主题的描述都简明扼要，辅以指向相关主题的引用。
+ 本书包含以下四个部分
  + 第一部分：第一章是本书的导引，会介绍一点C++的背景知识。第2-5章对C++语言及其标准库进行简要介绍
  + 第二部分：第6-15章介绍C++的内置类型和基本特性以及如何用他们构造程序
  + 第三部分：第16-29章介绍C++的抽象机制及如何用这些机制编写面向对象和泛型编程
  + 第四部分：第30-44章概述标准库并讨论一些兼容性问题。

### 1.1.1 引言

+ 接下来几章将要简要介绍C++程序设计语言及其标准库的主要概念和特性
  + 第二章：基础知识。介绍C++的内存模型，计算模型和错误处理模型
  + 第三章：抽象机制。介绍用来支持数据抽象，面向对象编程以及泛型编程的语言特性
  + 第四章：容器与算法。介绍标准库提供的字符串，简单I/O，容器和算法等特性
  + 第五章：并发和实用功能。概述与资源管理，并发，数字计算，正则表达式及其他一些方面相关的标准库工具

### 1.1.2 基本特性

+ C++支持传统的C语言编程风格，第二部分重点介绍支持C编程风格的C++子集，包括类型，对象，作用域和存储的基本概念。
  + 第六章：类型与声明。基础类型，命令，作用域，初始化，简单类型推断，对象生命周期和类型别名
  + 第七章：指针，数组与引用
  + 第八章：结构，联合与枚举
  + 第九章：语句。声明语句，选择语句，迭代语句，goto语句和注释语句
  + 第十一章：选择适当的操作。逻辑运算符，条件表达式，递增和递减，自由空间，{}列表，lambda表达式和显式类型转换
  + 第十二章：函数。函数声明和定义，inline函数，constexpr函数，实参传递，重载函数，前置和后置条件，函数的指针和宏
  + 第十三章：异常处理。错误处理风格，异常保证，资源管理，强制不变量，throw和catch，一个vector的实现
  + 第十四章：名字空间。namespace，模块化和接口，使用名字空间组织代码。
  + 第十五章：源文件与程序。分离编译，链接，使用头文件及程序启动和结束

### 1.1.3 抽象机制

+ 第三部分介绍的C++特性用来支持不同形式的抽象，包括面向对象编程和泛型编程。所有章节可以粗略分为三组：类，类继承和模板
  + 第十六章：类。用户自定义类型，也就是类的概念，是所有C++抽象机制的基础
  + 第十七章：构造，清理，拷贝和移动。展示了程序员如何定义类对象创建和初始化操作的含义。此外，拷贝，移动和析构的含义同样可由程序员来定义
  + 第十八章：运算符重载。介绍了为用户自定义类型指定运算符含义的规则，重点介绍常用的算术和逻辑运算符
  + 第十九章：特殊运算符。讨论用户自定义的非算术运算符的使用
  + 第二十章：派生类。介绍构建类层次的基本语言特性及其基本使用方法。我们可以实现接口(抽象类)与其实现(派生类)的完全分离，两者间的联系通过虚函数提供
  + 第二十一章：类层次。讨论有效的使用类层次的方法。
  + 第二十二章：运行时类型信息。介绍如何使用存储在对象中的数据实现在类层次中导航。我们可以使用dynamic_cast查询一个基类对象是否是作为派生类对象定义的
  + 第二十三章：模板。介绍隐藏在模板及其使用方法之下的基本原理
  + 第二十四章：泛型程序设计。介绍设计泛型程序所需的基本技术
  + 第二十五章：特例化。介绍特例化技术，即如何利用给定的一组模板参数，从模板生成类和函数
  + 第二十六章：实例化。主要介绍名字绑定规则
  + 第二十七章：模板和类层次。介绍模板层次和类层次如何结合使用
  + 第二十八章：元编程。介绍如何用模板生成程序
  + 第二十九章：一个矩阵设计。

### 1.1.4 标准库

+ 实际上这一部分可以当作标准库组件的用户手册来使用
  + 第三十章：标准库概览。给出标准库的概览，列出标准库头文件，并介绍语言支持和程序诊断方面的支持
  + 第三十一章：STL容器。介绍迭代器，容器和算法框架中的容器
  + 第三十二章：STL算法。介绍STL中的算法
  + 第三十三章：STL迭代器。介绍STL中的迭代器和其他工具
  + 第三十四章：内存和资源。介绍内存和资源管理相关的工具组件
  + 第三十五章：工具。介绍一些重要性稍低的工具组件
  + 第三十六章：字符串。介绍标准库string
  + 第三十七章：正则表达式
  + 第三十八章：I/O流。介绍标准库I/O流，包括格式化和非格式化输入输出，错误处理以及缓冲
  + 第三十九章：区域设置。
  + 第四十章：数值计算。
  + 第四十一章：并发。介绍C++基本内存模型和C++所提供的支持无锁并发编程的工具
  + 第四十二章：线程和任务。介绍支持线程和锁风格并发编程的类和支持基于任务并发编程模式的类
  + 第四十三章：C标准库。介绍纳入C++标准库的C标准库特性
  + 第四十四章：兼容性。

## 1.2 C++的设计

+ 程序设计语言的目的就是帮助我们用代码来表达思想。因此，一种程序设计语言要完成两个相关的任务：为程序员提供一个工具，用来指明需要由计算机执行什么动作；为程序员提供一组概念，用于思考能做些什么。
+ C++的设计理念是同时提供：
  + 将内置操作和内置类型直接映射到硬件，从而提供高效的内存利用和高效的底层操作。
  + 灵活且低开小的抽象机制，使得用户自定义类型无论是符号表达，使用范围还是性能都能与内置类型相当。

+ 系统程序设计(system programming)的含义是编写直接使用硬件资源的，严重受限于资源的代码，或是编写的代码与这类代码联系紧密。特别是软件基础设施的实现(例如设备驱动程序，通信协议栈，虚拟机，操作系统，业务支持系统，编程环境以及基础库)大部分都属于系统程序设计。

### 1.2.1 程序设计风格

+ 我们可以简单描述软件设计和编程的基本理念：
  + 用代码直接表达想法
  + 无关的想法应独立表达
  + 用代码直接描述想法之间的关联
  + 可以自用的组合用代码表达想法，但仅在这种组合有意义时
  + 简单的想法应简单表达
+ C++语言特性直接支持四种程序设计风格
  + 过程式程序设计
  + 数据抽象
  + 面向对象程序设计
  + 泛型程序设计
+ 但是，**重点不在于对单个程序设计风格的支持，而在于有效的组合它们。**
+ 我理想中的语言特性应该能优雅的组合使用，来支持连续统一的程序设计风格和各种各样的程序设计技术
  + 过程式程序设计：这种风格专注于处理和设计恰当的数据结构。支持这种风格也是C语言的设计目标。C++对这种风格的支持体现为内置类型，运算符，语句，函数，struct和union等特性。
  + 数据抽象：这种风格专注于接口的设计以及一般实现细节的隐藏和特殊的表示方式。C++支持具体类和抽象类。一些语言特性可直接用来定义具有私有实现细节，构造函数和析构函数以及相关操作的类。而抽象类则为完全的数据隐藏提供了直接支持。
  + 面向对象程序设计：这种风格专注于类层次的设计，实现和使用。除了允许定义类框架之外，C++还提供了各种各样的特性来支持类框架中的导航以及简化由已有的类来定义新的类。类层次提供了运行时多态和封装机制。
  + 泛型程序设计：这种风格专注于通用算法的设计，实现和使用。在这里，通用的含义是，一个算法可以设计成能处理多种类型，只要这些类型满足算法对其实参的要求即可。C++支持泛型编程的主要特性是模板，模板提供了运行时参数多态。

+ 上述这些设计和编程风格的强大在于它们的综合，每种风格都对综合启动了重要作用，而这种综合实际上就是C++。因此，**只关注一种风格是错误的，除非你只编写一些玩具程序，否则只关注一种风格会导致开发工作的浪费，产生非最优的程序**

### 1.2.2 类型检查

+ 静态类型和编译时类型检查的概念对高效使用C++是极为重要的。静态类型的使用是可表达性，可维护性和新能的关键。

### 1.2.3 C兼容性

+ C++从C语言发展而来，它保留了C的特性作为子集。

### 1.2.4 语言，库和系统

+ C++的基本内置类型，运算符和语句都是计算机硬件能直接处理的：数字，字符和地址。C++没有内置的高级数据类型，也没有高级操作原语。
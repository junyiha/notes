---
category: C++
date: 2024-05-22 09:00:00 +0800
layout: post
title: C++_10_31_map
tag: Cpp
---
## 简介

+ C++ <map>标准库

## C++ std::map::find() 函数 详解

`std::map::find()` 是 C++ 标准模板库（STL）中 `std::map` 类的成员函数之一，用于在 map 中查找给定键的位置。以下是该函数的详细解释：

**函数签名：**

```cpp
iterator find(const key_type& k);
const_iterator find(const key_type& k) const;
```

**参数：**

- `k`：要查找的键值。

**返回值：**

- 如果找到了给定键，则返回指向该键值对的迭代器；
- 如果未找到，则返回指向 `end()` 的迭代器。

**示例：**

```cpp
#include <iostream>
#include <map>

int main() {
    std::map<int, std::string> myMap;

    // 插入一些键值对
    myMap[1] = "One";
    myMap[2] = "Two";
    myMap[3] = "Three";
    myMap[4] = "Four";

    // 查找键为2的位置
    auto it = myMap.find(2);

    // 检查结果
    if (it != myMap.end()) {
        std::cout << "Key found: " << it->first << ", Value: " << it->second << std::endl;
    } else {
        std::cout << "Key not found" << std::endl;
    }

    // 尝试查找不存在的键
    it = myMap.find(5);

    // 检查结果
    if (it != myMap.end()) {
        std::cout << "Key found: " << it->first << ", Value: " << it->second << std::endl;
    } else {
        std::cout << "Key not found" << std::endl;
    }

    return 0;
}
```

在这个例子中，我们使用 `myMap.find(2)` 查找键为2的位置，并输出结果。然后，我们尝试使用 `myMap.find(5)` 查找不存在的键，并输出结果。通过使用 `find` 函数，我们可以有效地检查某个键是否存在于 `std::map` 中，以及在存在的情况下获取相应的值。

## C++ <map>标准库

`<map>` 是 C++ 标准库中的头文件，定义了一组容器类模板，用于实现键-值对形式的关联容器。

### std::map：
- `std::map` 是一个关联容器，用于存储一组键值对（key-value pairs）。
- 每个元素都是一个键值对，其中键（key）唯一，用于索引和快速查找值（value）。
- 内部元素按照键的严格弱顺序（默认是升序）排列。
- 主要特点：
  - 键值对按照键的严格弱顺序排列。
  - 键是唯一的，不允许重复。
  - 支持快速的查找、插入和删除操作。

### 主要操作：
- `insert(const value_type& val)`: 插入键值对。
- `erase(const_iterator position)`: 删除指定位置的元素。
- `find(const key_type& key)`: 查找键对应的值。
- `size()`: 返回 map 中元素的数量。
- `empty()`: 判断 map 是否为空。

### 示例：
```cpp
#include <iostream>
#include <map>

int main() {
    std::map<std::string, int> myMap;

    // 插入键值对
    myMap["Alice"] = 25;
    myMap["Bob"] = 30;
    myMap["Charlie"] = 35;

    // 查找元素
    auto it = myMap.find("Bob");
    if (it != myMap.end()) {
        std::cout << "Bob's age: " << it->second << std::endl;
    } else {
        std::cout << "Bob not found in map" << std::endl;
    }

    // 输出 map 中的元素
    for (const auto& pair : myMap) {
        std::cout << pair.first << ": " << pair.second << std::endl;
    }

    return 0;
}
```

这个示例展示了 `std::map` 的基本使用方法，包括插入键值对、查找元素、遍历输出 map 中的键值对等操作。

## C++ <map>标准库 详解

`<map>` 是 C++ 标准库中的头文件，定义了一组容器类模板，用于实现关联容器，允许存储一组唯一键和对应的值。主要包括 `std::map` 和 `std::multimap`。

### std::map：
- `std::map` 是一个关联容器，存储键值对，其中每个键都是唯一的，用于快速查找对应的值。
- 主要特点：
  - 键值对是按照键的严格弱顺序（默认是升序）排列。
  - 键是唯一的，不允许重复。
- 主要操作：
  - `insert(const value_type& val)`: 插入键值对。
  - `erase(const_iterator position)`: 删除指定位置的元素。
  - `find(const key_type& key)`: 查找键对应的值。
  - `size()`: 返回 map 中元素的数量。
  - `empty()`: 判断 map 是否为空。

### std::multimap：
- `std::multimap` 与 `std::map` 类似，但允许键重复出现。
- 主要特点：
  - 键值对是按照键的严格弱顺序（默认是升序）排列。
  - 键允许重复。
- 主要操作与 `std::map` 类似。

### 示例：
```cpp
#include <iostream>
#include <map>

int main() {
    std::map<std::string, int> myMap;

    myMap["Alice"] = 25;
    myMap["Bob"] = 30;
    myMap["Charlie"] = 35;

    auto it = myMap.find("Bob");
    if (it != myMap.end()) {
        std::cout << "Bob's age: " << it->second << std::endl;
    } else {
        std::cout << "Bob not found in map" << std::endl;
    }

    for (const auto& pair : myMap) {
        std::cout << pair.first << ": " << pair.second << std::endl;
    }

    return 0;
}
```

这个示例演示了 `std::map` 的基本用法，包括插入键值对、查找元素、遍历输出 map 中的键值对等操作。`std::multimap` 的使用与此类似，但允许键重复出现。

## C++ <map>标准库 常用的类和函数

在 C++ `<map>` 标准库中，最常用的类是 `std::map` 和 `std::multimap`，它们提供了操作键-值对集合的常用函数和方法。

### 主要类：
1. **std::map**：
   - 用于存储一组唯一的键值对，其中每个键是唯一的。
   - 特点：
     - 键值对按照键的严格弱顺序（默认是升序）排列。
     - 键是唯一的，不允许重复。
   - 主要方法：
     - `insert(const value_type& val)`: 插入键值对。
     - `erase(const_iterator position)`: 删除指定位置的元素。
     - `find(const key_type& key)`: 查找键对应的值。
     - `size()`: 返回 map 中元素的数量。
     - `empty()`: 判断 map 是否为空。

2. **std::multimap**：
   - 与 `std::map` 类似，但允许键重复出现。
   - 特点：
     - 键值对按照键的严格弱顺序（默认是升序）排列。
     - 键允许重复。
   - 主要方法与 `std::map` 类似。

### 常用方法：
- `insert(const value_type& val)`: 插入键值对。
- `erase(const_iterator position)`: 删除指定位置的元素。
- `find(const key_type& key)`: 查找键对应的值。
- `size()`: 返回 map 中元素的数量。
- `empty()`: 判断 map 是否为空。

### 示例：
```cpp
#include <iostream>
#include <map>

int main() {
    std::map<std::string, int> myMap;

    myMap["Alice"] = 25;
    myMap["Bob"] = 30;
    myMap["Charlie"] = 35;

    auto it = myMap.find("Bob");
    if (it != myMap.end()) {
        std::cout << "Bob's age: " << it->second << std::endl;
    } else {
        std::cout << "Bob not found in map" << std::endl;
    }

    for (const auto& pair : myMap) {
        std::cout << pair.first << ": " << pair.second << std::endl;
    }

    return 0;
}
```

这个示例展示了 `std::map` 的基本用法，包括插入键值对、查找元素、遍历输出 map 中的键值对等操作。`std::multimap` 的使用与此类似，但允许键重复出现。

## std::map

`std::map` 是 C++ 标准库中的关联容器，用于存储一组键值对（key-value pairs）。每个键都是唯一的，可以快速查找对应的值。

### 特点：
- **有序性：** 内部元素按照键的严格弱顺序（默认是升序）排列。
- **唯一键：** 键是唯一的，每个键对应一个值，不允许键的重复。
- **底层实现：** 通常使用平衡二叉树（红黑树）来实现。

### 主要操作：
- `insert(const value_type& val)`: 插入键值对。
- `erase(const_iterator position)`: 删除指定位置的元素。
- `find(const key_type& key)`: 查找键对应的值。
- `size()`: 返回 map 中键值对的数量。
- `empty()`: 判断 map 是否为空。

### 示例：
```cpp
#include <iostream>
#include <map>

int main() {
    std::map<std::string, int> myMap;

    myMap["Alice"] = 25;
    myMap["Bob"] = 30;
    myMap["Charlie"] = 35;

    auto it = myMap.find("Bob");
    if (it != myMap.end()) {
        std::cout << "Bob's age: " << it->second << std::endl;
    } else {
        std::cout << "Bob not found in map" << std::endl;
    }

    for (const auto& pair : myMap) {
        std::cout << pair.first << ": " << pair.second << std::endl;
    }

    return 0;
}
```

这个示例展示了 `std::map` 的基本用法，包括插入键值对、查找元素、遍历输出 map 中的键值对等操作。

## std::multimap

`std::multimap` 是 C++ 标准库中的关联容器，类似于 `std::map`，但允许键重复出现。

### 特点：
- **有序性：** 内部元素按照键的严格弱顺序（默认是升序）排列。
- **允许重复键：** `std::multimap` 中的键允许重复出现，即允许多个键对应不同的值。
- **底层实现：** 通常使用平衡二叉树（红黑树）来实现。

### 主要操作：
- `insert(const value_type& val)`: 插入键值对。
- `erase(const_iterator position)`: 删除指定位置的元素。
- `find(const key_type& key)`: 查找键对应的值。
- `size()`: 返回 multimap 中键值对的数量。
- `empty()`: 判断 multimap 是否为空。

### 示例：
```cpp
#include <iostream>
#include <map>

int main() {
    std::multimap<std::string, int> myMultiMap;

    myMultiMap.insert(std::make_pair("Alice", 25));
    myMultiMap.insert(std::make_pair("Bob", 30));
    myMultiMap.insert(std::make_pair("Charlie", 35));
    myMultiMap.insert(std::make_pair("Bob", 32)); // 允许重复键

    auto it = myMultiMap.find("Bob");
    if (it != myMultiMap.end()) {
        std::cout << "Bob's age: " << it->second << std::endl;
    } else {
        std::cout << "Bob not found in multimap" << std::endl;
    }

    for (const auto& pair : myMultiMap) {
        std::cout << pair.first << ": " << pair.second << std::endl;
    }

    return 0;
}
```

这个示例展示了 `std::multimap` 的基本用法，包括插入键值对、查找元素、遍历输出 multimap 中的键值对等操作。与 `std::map` 不同，`std::multimap` 允许多个键对应不同的值。
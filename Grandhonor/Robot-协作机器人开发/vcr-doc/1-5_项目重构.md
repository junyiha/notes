## 简介

+ 重构VCR项目，能够输出设备清单，扩展设备

## 思路

+ 参考
```cpp

class c d;

struct a
{
    int type;
    int cmd;
    void *func;
    void *op;
}b = {{1,1,test_hashmap_cmd,&d}};


    void ToolOpen(ServerMessage_t &sm, ServerReply_t &sr,void *op)
    {

    }

    static Sucker g_Sucker;
#ifdef BEIJING_ROBOT
        static Robot g_Robot;
#else 
         static Robot g_RobotCob;
#endif
        // m_camera = new Camera();
        // m_detector = new Detector();
    static struct _funcs
    {
        int type;
        int subtype;
        int cmd;
        void *func;
        void *op;
    }funcs[] = {
        {1,1,1,ToolOpen,&g_Sucker},
        {1,1,1,ToolOpen,&g_Sucker}
    };

    void process(ServerMessage_t &sm, ServerReply_t &sr)
    {

    }
```

## 设备清单

```json 
{
    "code":0,
    "data":{
        "camera":[
            "ty",
            "mkmd"
        ],
        "detector":[
            "gh",
            "aaa"
        ],
        "robot":[
            "beijing",
            "cob"
        ],
        "tool":[
            "sucker",
            "jaw"
        ]
    },
    "message":"成功"
}
```
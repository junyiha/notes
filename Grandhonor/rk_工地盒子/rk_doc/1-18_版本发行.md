## 简介

+ rk平台软件版本发行

## ip配置服务

+ 软件路径: /mnt/remote/190-mnt/zhangpengcheng/Release/abcdk/latest

```bash
chmod +x /data/abcdk/init.d/start-ipconfig.sh
/data/abcdk/init.d/start-ipconfig.sh
```

+ 脚本
```bash 
#! /bin/bash 

path="/mnt/remote/190-mnt/zhangpengcheng/Release/abcdk/latest/1.7/"
program="abcdk-1.7.9-arm-linux-gnueabihf.tar.gz"

scp user@192.169.4.16:${path}${program} /userdata/

cd /userdata/

pwd

echo "tar -zxf ${program}"

eval "tar -zxf ${program}"

rm ${program}
```

## frpc服务

+ 软件路径: /mnt/remote/190-mnt/zhangpengcheng/Release/Help/FRP/

```bash
chmod +x /userdata/frp_0.52.3_linux_arm/frp_start.sh
nohup /userdata/frp_0.52.3_linux_arm/frp_start.sh &
```

+ frp_start.sh
```bash
#! /bin/bash 

sleep 60

# for frp
function FRPC()
{
	frpc="/userdata/frp_0.52.3_linux_arm/frpc"
	config="/userdata/frp_0.52.3_linux_arm/frpc.toml"

	# eval "nohup ${frpc} -c ${config} > /dev/null 2>&1 &"
	route > /tmp/route.log &
	eval "nohup ${frpc} -c ${config} > /tmp/frpc.log &"
}

FRPC
```

## mnc script

```bash
#! /bin/bash 

# 创建任务
curl --location --request POST 'http://127.0.0.1:8000/api/setting/task/add' \
--header 'User-Agent: Apifox/1.0.0 (https://apifox.com)' \
--header 'Content-Type: application/json' \
--header 'Accept: */*' \
--header 'Host: 192.169.5.61:8000' \
--header 'Connection: keep-alive' \
--data-raw '{
    "name":"安全帽检测",
    "start":1,
    "source":10,
    "schedulerType":"Daemon",
    "models":{
        "id":3,
        "duration":" ",
        "start":" ",
        "end":" "
    }
}'

# 停止任务
curl -X POST --data "{\"id\":\"Qk99V\"}" http://127.0.0.1:8000/api/setting/task/stop

# 删除任务
curl -X POST --data "{\"ids\":[\"qfNY7\"]}" http://127.0.0.1:8000/api/setting/task/delete

# 启动任务
curl -X POST --data "{\"id\":\"Qk99V\"}" http://127.0.0.1:8000/api/setting/task/start

# 任务列表
curl -X GET http://127.0.0.1:8000/api/setting/task/list

# 相机列表
curl -X GET http://127.0.0.1:8000/api/setting/camera/list

# 创建相机
curl --location --request POST 'http://127.0.0.1:8000/api/setting/camera/add' \
--header 'User-Agent: Apifox/1.0.0 (https://apifox.com)' \
--header 'Content-Type: application/json' \
--header 'Accept: */*' \
--header 'Host: 192.169.5.61:8000' \
--header 'Connection: keep-alive' \
--data-raw '{
    "name": "门卫室",
    "url":"rtsp://admin:qwer1234@192.168.10.242:554/h264/ch1/main/av_stream"
}'

# 清除所有告警记录并删除文件
curl -X GET http://127.0.0.1:8000/api/setting/warning_record/clear

# 算法列表
curl -X GET http://127.0.0.1:8000/api/setting/algorithm/list

# 管理平台列表
curl -X GET http://127.0.0.1:8000/api/device/listCloudPlatform

# 创建管理平台
curl --location --request POST 'http://127.0.0.1:8000/api/device/addCloudPlatform' \
--header 'User-Agent: Apifox/1.0.0 (https://apifox.com)' \
--header 'Content-Type: application/json' \
--header 'Accept: */*' \
--header 'Host: 192.169.5.61:8000' \
--header 'Connection: keep-alive' \
--data-raw '{
    "name": "test112",
    "type": "event_push",
    "address": "https://wisdom.aotusoft.net/wisdom/aibox/upload",
    "appKeyId": "afa",
    "appKeySecret": "1111"
}'

```

## vca script

```bash
#! /bin/bash 

# 任务列表
curl -X POST --data-urlencode 'cmd=1' http://127.0.0.1:17008/api

# 查询任务状态
curl -X POST --data-urlencode 'cmd=6' --data-urlencode 'id=oc0R1' http://127.0.0.1:17008/api

# 删除任务
curl -X POST --data-urlencode 'cmd=4' --data-urlencode 'id=40gA9' http://127.0.0.1:17008/api
```
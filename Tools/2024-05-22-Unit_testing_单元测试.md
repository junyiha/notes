---
category: Tools
date: 2024-05-22 09:00:00 +0800
layout: post
title: Unit_testing_单元测试
---
## 简介

+ 单元测试（unit testing），是指对软件中的最小可测试单元进行检查和验证。至于“单元”的大小或范围，并没有一个明确的标准，“单元”可以是一个函数、方法、类、功能模块或者子系统。
+ 单元测试通常和白盒测试联系到一起，如果单从概念上来讲两者是有区别的，不过我们通常所说的“单元测试”和“白盒测试”都认为是和代码有关系的，所以在某些语境下也通常认为这两者是同一个东西。还有一种理解方式，单元测试和白盒测试就是对开发人员所编写的代码进行测试

## 单元测试谁来做？

+ 单元测试一般是有开发人员或测试人员来做。谁来做并没有一个绝对的标准，要根据公司的实际情况来决定。接下来我们分析一下开发人员或测试人员做单元测试的优缺点：
+ 开发人员做单元测试：
  + 优点：开发人员对代码最熟悉，而且开发人员编程技能相对比较强，所以开发人员自己写单元测试效率上和覆盖率上都比较高
  + 缺点：开发人员平时写业务代码就要花费很多时间，有时候确实没有时间写单元测试；而且大部分开发人员没有太好的测试思想，单元测试可能只是写个最简单的用例就完了；自己写的代码自己测，往往都是不靠谱！
+ 测试人员做单元测试：
  + 优点：测试人员有比较系统的测试思想，可以更好地保证用例的覆盖。而且通过写单测测试能更好地了解具体代码结构、流程，对于后续的业务测试也非常有利。
  + 缺点：测试人员的编程技能相对比较弱，如果不同编程是无法开展单元测试的。并且测试人员对代码没有开发人员熟悉，效率会比较低。

## 单元测试怎么做？

+ 单元测试的实现方式包括：人工静态检查、动态执行跟踪
  + 人工静态检查：就是通常所说的“代码走读”，主要是保证代码逻辑的正确性
  + 动态执行跟踪：就是把程序代码运行起来，检查实际的运行结果和预期结果是否一致

+ 人工静态检查包含的主要内容：
  + 检查算法的逻辑正确性
  + 模块接口的正确性检查
  + 输入参数有没有作正确性检查
  + 调用其他方法接口的正确性
  + 异常错误处理
  + 保证表达式、SQL语句的正确性
  + 检查常量或全局变量使用的正确性
  + 程序风格的一致性、规范性
  + 检查代码注释是否完整

+ 动态执行跟踪
  + 动态执行跟踪需要编写测试脚本调用业务代码进行测试，为了更好的管理维护测试脚本，一般会采用单元测试框架来管理，不同的语言有不同的单元测试框架：
    + Java：JUnit、TestNG
    + Python：UintTest、pyTest
    + C++: Catch,googletest

+ 单元测试的一个重要的衡量标准就是代码覆盖率，尽量做到代码的全覆盖。常见单元测试覆盖标准：
  + 语句覆盖
  + 分支覆盖
  + 条件覆盖
  + 分支-条件覆盖
  + 条件组合覆盖
  + 路径覆盖
## 简介

+ C/C++常用函数，大部分为C函数

## inet_ntoa

在 C 语言中，`inet_ntoa()` 函数用于将网络字节序（大端字节序）的IPv4地址转换为点分十进制形式的字符串表示。它的详细说明如下：

**函数原型：**
```c
#include <arpa/inet.h>

char *inet_ntoa(struct in_addr in);
```

**参数：**
- `in`: 一个`struct in_addr`结构体，包含要转换的IPv4地址。

**返回值：**
- 如果转换成功，函数返回一个指向包含点分十进制IPv4地址的静态缓冲区的指针。
- 如果转换失败，函数返回NULL，并设置`errno`。

**注意事项：**
- `inet_ntoa()`函数是不可重入的（not thread-safe）。它使用了一个静态缓冲区来存储转换后的字符串。因此，如果在同一线程中多次调用`inet_ntoa()`，它会覆盖前一次的结果。

**示例：**
```c
#include <stdio.h>
#include <arpa/inet.h>

int main() {
    struct in_addr addr;
    inet_pton(AF_INET, "192.168.1.100", &addr);

    char *ip_str = inet_ntoa(addr);
    if (ip_str == NULL) {
        perror("inet_ntoa");
        return 1;
    }

    printf("IPv4 Address: %s\n", ip_str);
    return 0;
}
```

在上面的示例中，我们首先使用`inet_pton()`函数将字符串形式的IPv4地址转换为`struct in_addr`结构体（网络字节序）。然后，我们使用`inet_ntoa()`函数将该结构体转换为点分十进制形式的字符串，并打印出来。

需要注意的是，由于`inet_ntoa()`使用静态缓冲区，如果需要在同一线程中多次使用它或保留转换后的字符串内容，最好将其复制到自己管理的内存中，以避免数据覆盖问题。